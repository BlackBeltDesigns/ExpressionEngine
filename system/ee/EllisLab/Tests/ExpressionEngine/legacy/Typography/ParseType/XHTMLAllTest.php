<?php

require_once SYSPATH.'ee/EllisLab/ExpressionEngine/Boot/boot.common.php';
require_once APPPATH.'helpers/string_helper.php';
require_once APPPATH.'helpers/security_helper.php';
require_once APPPATH.'libraries/Functions.php';
require_once APPPATH.'libraries/Typography.php';
require_once APPPATH.'libraries/typography/Markdown/Michelf/MarkdownExtra.inc.php';

define('PATH_ADDONS', APPPATH.'modules/');
define('REQ', FALSE);

class XHTMLAllTest extends \PHPUnit_Framework_TestCase {

	private $typography;

	public function setUp()
	{
		$this->typography = new EE_Typography();
	}

	private function getContentForMarkup($name)
	{
		$path = realpath(__DIR__.'/../../../../support/typography/' . $name);
		return file_get_contents($path);
	}

	/**
	 * There are number of preferences we can pass to the parse_type
	 * method that we need to test:
	 *
	 *  - text_format (xhtml, markdown, br, none, lite)
	 *  - html_format (safe, all, none)
	 *  - auto_links (y, n)
	 *  - allow_img_url (n, y)
	 */

	/**
	 * @dataProvider dataProvider
	 */
	public function testParseType($description, $in, $out)
	{
		$prefs = array(
			'text_format' => 'xhtml',
			'html_format' => 'all',
			'auto_links' => 'y',
			'allow_img_url' => 'y',
		);

		$title = $this->typography->parse_type($in, $prefs);
		$this->assertEquals($title, $out, '[ XHTML] ' . $description);
	}

	public function dataProvider()
	{
		$data = array(
			array('Empty string', '', ''),
		);

		return array_merge(
			$this->whitespaceData(),
			$this->punctuationData(),
			$this->HTMLWithClosingTagsData(),
            $this->HTMLWithoutClosingTagsData(),
            $this->HTMLWithContentData(),
            $this->HTMLAttributesData(),
            $this->HTMLWithAttributesData(),
            $this->BBCodeDataSafe(),
            // $this->markdownData(), // @TODO - fix errors or bypass?
			$data
		);
	}

	protected function whitespaceData()
	{
		return array(
			array('Single spaces', 'a b', '<p>a b</p>'),
			array('Double spaces', 'a  b', '<p>a  b</p>'),
			array('Double spaces after a sentence', 'Word.  Word', '<p>Word.&nbsp; Word</p>'),
			array('A tab does converts to a space', "a\tb", "<p>a\tb</p>"),
			array('Tabs are not converted', "a\t\tb", "<p>a\t\tb</p>"),
			array('A return is a <br>', "a\nb", "<p>a<br />\nb</p>"),
			array('Multiple returns are not converted', "a\n\nb", "<p>a</p>\n\n<p>b</p>"),
		);
	}

	protected function punctuationData()
	{
		return array(
			array('Backtick', '`', '<p>`</p>'),
			array('Tilde', '~', '<p>~</p>'),
			array('Exclamation point', '!', '<p>!</p>'),
			array('At sign', '@', '<p>@</p>'),
			array('Pound/hash sign', '#', '<p>#</p>'),
			array('Dollar sign', '$', '<p>$</p>'),
			array('Percent sign', '%', '<p>%</p>'),
			array('Circumflex', '^', '<p>^</p>'),
			array('Ampersand', '&', '<p>&amp;</p>'),
			array('Asterisk', '*', '<p>*</p>'),
			array('Parentheses', '()', '<p>()</p>'),
			array('Underscore', '_', '<p>_</p>'),
			array('Hyphen', '-', '<p>-</p>'),
			array('Equals sign', '=', '<p>=</p>'),
			array('Plus sign', '+', '<p>+</p>'),
			array('Brackets', '[]', '<p>[]</p>'),
			array('Braces', '{}', '<p>&#123;&#125;</p>'),
			array('Backslash', '\\', '<p>\\</p>'),
			array('Pipe', '|', '<p>|</p>'),
			array('Semicolon', ';', '<p>;</p>'),
			array('Colon', ':', '<p>:</p>'),
			array('Single quote', "'", "<p>&#8216;</p>"),
			array('Double quote', '"', '<p>&#8220;</p>'),
			array('Comma', ',', '<p>,</p>'),
			array('Period', '.', '<p>.</p>'),
			array('Angle brackets', '<>', '<p><></p>'),
			array('Forward slash', '/', '<p>/</p>'),
			array('Question mark', '?', '<p>?</p>'),
			array('Em dash', '--', '<p>&#8212;</p>'),
			array('Ellipses', 'you know...', '<p>you know&#8230;</p>'),
			array('Apostrophy', "It's its", "<p>It&#8217;s its</p>"),
			array('US quote no whitespace', '"Hello"', '<p>&#8220;Hello&#8221;</p>'),
			array('UK quote no whitespace', "'Hello'", '<p>&#8216;Hello&#8217;</p>'),
			array('Simple nested US quote', '"I said, \'Hello\'"', '<p>&#8220;I said, &#8216;Hello&#8217;&#8221;</p>'),
			array('Simple nested UK quote', "'I said, \"Hello\"'", '<p>&#8216;I said, &#8220;Hello&#8221;&#8217;</p>'),
			array('US quote surrounded by whitespace', 'Foo "Bar" Baz', '<p>Foo &#8220;Bar&#8221; Baz</p>'),
			array('UK quote surrounded by whitespace', "Foo 'Bar' Baz", '<p>Foo &#8216;Bar&#8217; Baz</p>'),
		);
	}

	protected function HTMLWithClosingTagsData()
	{
		return array(
			array('<!-- -->', '<!-- -->', '<!-- -->'),
			array('<a></a>', '<a></a>', '<p><a></a></p>'),
            array('<abbr></abbr>', '<abbr></abbr>', '<p><abbr></abbr></p>'),
            array('<acronym></acronym>', '<acronym></acronym>', '<p><acronym></acronym></p>'),
            array('<address></address>', '<address></address>', '<address></address>'),
            // array('<applet></applet>', '<applet></applet>', '<p><applet></applet></p>'),
            // array('<area></area>', '<area></area>', '<p><area></area></p>'),
            array('<article></article>', '<article></article>', '<article></article>'),
            array('<aside></aside>', '<aside></aside>', '<aside></aside>'),
            array('<audio></audio>', '<audio></audio>','<audio></audio>'),
			array('<b></b>', '<b></b>', '<p><b></b></p>'),
            // array('<base></base>', '<base></base>', '<p><base></base></p>'),
            // array('<basefont></basefont>', '<basefont></basefont>', '<p><basefont></basefont></p>'),
            // array('<bdi></bdi>', '<bdi></bdi>', '<p><bdi></bdi></p>'),
			array('<bdo></bdo>', '<bdo></bdo>', '<p><bdo></bdo></p>'),
			array('<big></big>', '<big></big>', '<p><big></big></p>'),
			array('<blockquote></blockquote>', '<blockquote></blockquote>', '<blockquote></blockquote>'),
            // array('<body></body>', '<body></body>', '<p><body></body></p>'),
			array('<button></button>', '<button></button>', '<p><button></button></p>'),
			array('<canvas></canvas>', '<canvas></canvas>', '<canvas></canvas>'),
            // array('<caption></caption>', '<caption></caption>', '<p><caption></caption></p>'),
            // array('<center></center>', '<center></center>', '<p><center></center></p>'),
			array('<cite></cite>', '<cite></cite>', '<p><cite></cite></p>'),
			array('<code></code>', '<code></code>', '<p><code></code></p>'),
            // array('<col></col>', '<col></col>', '<p><col></col></p>'),
            // array('<colgroup></colgroup>', '<colgroup></colgroup>', '<p><colgroup></colgroup></p>'),
            // array('<datalist></datalist>', '<datalist></datalist>', '<p><datalist></datalist></p>'),
            // array('<dd></dd>', '<dd></dd>', '<p><dd></dd></p>'),
			array('<del></del>', '<del></del>', '<p><del></del></p>'),
            // array('<details></details>', '<details></details>', '<p><details></details></p>'),
			array('<dfn></dfn>', '<dfn></dfn>', '<p><dfn></dfn></p>'),
            // array('<dialog></dialog>', '<dialog></dialog>', '<p><dialog></dialog></p>'),
            // array('<dir></dir>', '<dir></dir>', '<p><dir></dir></p>'),
			array('<div></div>', '<div></div>', '<div></div>'),
			array('<dl></dl>', '<dl></dl>', '<dl></dl>'),
            // array('<dt></dt>', '<dt></dt>', '<dt></dt>'),
			array('<em></em>', '<em></em>', '<p><em></em></p>'),
            // array('<embed></embed>', '<embed></embed>', '<p><embed></embed></p>'),
			array('<fieldset></fieldset>', '<fieldset></fieldset>', '<fieldset></fieldset>'),
			array('<figcaption></figcaption>', '<figcaption></figcaption>', '<p><figcaption></figcaption></p>'),
			array('<figure></figure>', '<figure></figure>', '<figure></figure>'),
            // array('<font></font>', '<font></font>', '<p><font></font></p>'),
			array('<footer></footer>', '<footer></footer>', '<footer></footer>'),
			array('<form></form>', '<form></form>', '<form></form>'),
            // array('<frame></frame>', '<frame></frame>', '<p><frame></frame></p>'),
            // array('<frameset></frameset>', '<frameset></frameset>', '<p><frameset></frameset></p>'),
			array('<h1></h1>', '<h1></h1>', '<h1></h1>'),
			array('<h2></h2>', '<h2></h2>', '<h2></h2>'),
			array('<h3></h3>', '<h3></h3>', '<h3></h3>'),
			array('<h4></h4>', '<h4></h4>', '<h4></h4>'),
			array('<h5></h5>', '<h5></h5>', '<h5></h5>'),
			array('<h6></h6>', '<h6></h6>', '<h6></h6>'),
            // array('<head></head>', '<head></head>', '<p><head></head></p>'),
			array('<header></header>', '<header></header>', '<header></header>'),
            // array('<html></html>', '<html></html>', '<p><html></html></p>'),
			array('<i></i>', '<i></i>', '<p><i></i></p>'),
            // array('<iframe></iframe>', '<iframe></iframe>', '<p><iframe></iframe></p>'),
			array('<ins></ins>', '<ins></ins>', '<p><ins></ins></p>'),
			array('<kbd></kbd>', '<kbd></kbd>', '<p><kbd></kbd></p>'),
            // array('<keygen></keygen>', '<keygen></keygen>', '<p><keygen></keygen></p>'),
			array('<label></label>', '<label></label>', '<p><label></label></p>'),
            // array('<legend></legend>', '<legend></legend>', '<p><legend></legend></p>'),
            // array('<li></li>', '<li></li>', '<p><li></li></p>'),
            // array('<link></link>', '<link></link>', '<p><link></link></p>'),
            // array('<main></main>', '<main></main>', '<p><main></main></p>'),
			array('<map></map>', '<map></map>', '<p><map></map></p>'),
			array('<mark></mark>', '<mark></mark>', '<p><mark></mark></p>'),
            // array('<menu></menu>', '<menu></menu>', '<p><menu></menu></p>'),
            // array('<menuitem></menuitem>', '<menuitem></menuitem>', '<p><menuitem></menuitem></p>'),
            // array('<meta></meta>', '<meta></meta>', '<p><meta></meta></p>'),
            // array('<meter></meter>', '<meter></meter>', '<p><meter></meter></p>'),
            // array('<nav></nav>', '<nav></nav>', '<p><nav></nav></p>'),
            // array('<noframes></noframes>', '<noframes></noframes>', '<p><noframes></noframes></p>'),
			array('<noscript></noscript>', '<noscript></noscript>', '<noscript></noscript>'),
			array('<object></object>', '<object></object>', '<object></object>'),
			array('<ol></ol>', '<ol></ol>', '<ol></ol>'),
            // array('<optgroup></optgroup>', '<optgroup></optgroup>', '<p><optgroup></optgroup></p>'),
            // array('<option></option>', '<option></option>', '<p><option></option></p>'),
			array('<output></output>', '<output></output>', '<output></output>'),
			array('<p></p>', '<p></p>', '<p>&nbsp;</p>'),
            array('<param></param>', '<param></param>', '<param></param>'),
            array('<picture></picture>','<picture></picture>','<picture></picture>'),
			array('<pre></pre>', '<pre></pre>', '<pre></pre>'),
            array('<progress></progress>', '<progress></progress>', '<progress></progress>'),
			array('<q></q>', '<q></q>', '<p><q></q></p>'),
            // array('<rp></rp>', '<rp></rp>', '<p><rp></rp></p>'),
            // array('<rt></rt>', '<rt></rt>', '<p><rt></rt></p>'),
            // array('<ruby></ruby>', '<ruby></ruby>', '<p><ruby></ruby></p>'),
            // array('<s></s>', '<s></s>', '<p><s></s></p>'),
			array('<samp></samp>', '<samp></samp>', '<p><samp></samp></p>'),
			array('<script></script>', '<script></script>', '<script></script>'),
			array('<section></section>', '<section></section>', '<section></section>'),
			array('<select></select>', '<select></select>', '<p><select></select></p>'),
			array('<small></small>', '<small></small>', '<p><small></small></p>'),
            // array('<source></source>', '<source></source>', '<p><source></source></p>'),
			array('<span></span>', '<span></span>', '<p><span></span></p>'),
            // array('<strike></strike>', '<strike></strike>', '<p><strike></strike></p>'),
			array('<strong></strong>', '<strong></strong>', '<p><strong></strong></p>'),
            // array('<style></style>', '<style></style>', '<p><style></style></p>'),
			array('<sub></sub>', '<sub></sub>', '<p><sub></sub></p>'),
            // array('<summary></summary>', '<summary></summary>', '<p><summary></summary></p>'),
			array('<sup></sup>', '<sup></sup>', '<p><sup></sup></p>'),
			array('<table></table>', '<table></table>', '<table></table>'),
            // array('<tbody></tbody>', '<tbody></tbody>', '<p><tbody></tbody></p>'),
            // array('<td></td>', '<td></td>', '<p><td></td></p>'),
			array('<textarea></textarea>', '<textarea></textarea>', '<p><textarea></textarea></p>'),
            // array('<tfoot></tfoot>', '<tfoot></tfoot>', '<p><tfoot></tfoot></p>'),
            // array('<th></th>', '<th></th>', '<p><th></th></p>'),
            // array('<thead></thead>', '<thead></thead>', '<p><thead></thead></p>'),
            // array('<time></time>', '<time></time>', '<p><time></time></p>'),
            // array('<title></title>', '<title></title>', '<p><title></title></p>'),
            // array('<tr></tr>', '<tr></tr>', '<p><tr></tr></p>'),
            // array('<track></track>', '<track></track>', '<p><track></track></p>'),
			array('<tt></tt>', '<tt></tt>', '<p><tt></tt></p>'),
            // array('<u></u>', '<u></u>', '<p><u></u></p>'),
			array('<ul></ul>', '<ul></ul>', '<ul></ul>'),
			array('<var></var>', '<var></var>', '<p><var></var></p>'),
			array('<video></video>', '<video></video>', '<video></video>'),
            // array('<wbr></wbr>', '<wbr></wbr>', '<p><wbr></wbr></p>'),
		);
	}

	protected function HTMLWithoutClosingTagsData()
	{
		return array(
            // array('<!--', '<!--', '<p><!&#8212;</p>'),
			array('<a>', '<a>', '<p><a></p>'),
			array('<abbr>', '<abbr>', '<p><abbr></p>'),
			array('<acronym>', '<acronym>', '<p><acronym></p>'),
			array('<address>', '<address>', '<address>'),
			array('<applet>', '<applet>', '<p><applet></p>'),
			array('<area>', '<area>', '<p><area></p>'),
			array('<article>', '<article>', '<article>'),
			array('<aside>', '<aside>', '<aside>'),
			array('<audio>', '<audio>', '<audio>'),
			array('<b>', '<b>', '<p><b></p>'),
			array('<base>', '<base>', '<p><base></p>'),
			array('<basefont>', '<basefont>', '<p><basefont></p>'),
			array('<bdi>', '<bdi>', '<p><bdi></p>'),
			array('<bdo>', '<bdo>', '<p><bdo></p>'),
			array('<big>', '<big>', '<p><big></p>'),
			array('<blockquote>', '<blockquote>', '<blockquote>'),
			array('<body>', '<body>', '<p><body></p>'),
            // array('<br>', '<br>', '<p><br></p>'),
			array('<button>', '<button>', '<p><button></p>'),
			array('<canvas>', '<canvas>', '<canvas>'),
			array('<caption>', '<caption>', '<p><caption></p>'),
			array('<center>', '<center>', '<p><center></p>'),
			array('<cite>', '<cite>', '<p><cite></p>'),
			array('<code>', '<code>', '<p><code></p>'),
			array('<col>', '<col>', '<p><col></p>'),
			array('<colgroup>', '<colgroup>', '<p><colgroup></p>'),
			array('<datalist>', '<datalist>', '<p><datalist></p>'),
			array('<dd>', '<dd>', '<p><dd></p>'),
			array('<del>', '<del>', '<p><del></p>'),
			array('<details>', '<details>', '<p><details></p>'),
			array('<dfn>', '<dfn>', '<p><dfn></p>'),
			array('<dialog>', '<dialog>', '<p><dialog></p>'),
			array('<dir>', '<dir>', '<p><dir></p>'),
			array('<div>', '<div>', '<div>'),
			array('<dl>', '<dl>', '<dl>'),
			array('<dt>', '<dt>', '<p><dt></p>'),
			array('<em>', '<em>', '<p><em></p>'),
			array('<embed>', '<embed>', '<p><embed></p>'),
			array('<fieldset>', '<fieldset>', '<fieldset>'),
			array('<figcaption>', '<figcaption>', '<p><figcaption></p>'),
			array('<figure>', '<figure>', '<figure>'),
			array('<font>', '<font>', '<p><font></p>'),
			array('<footer>', '<footer>', '<footer>'),
			array('<form>', '<form>', '<form>'),
			array('<frame>', '<frame>', '<p><frame></p>'),
			array('<frameset>', '<frameset>', '<p><frameset></p>'),
			array('<h1>', '<h1>', '<h1>'),
			array('<h2>', '<h2>', '<h2>'),
			array('<h3>', '<h3>', '<h3>'),
			array('<h4>', '<h4>', '<h4>'),
			array('<h5>', '<h5>', '<h5>'),
			array('<h6>', '<h6>', '<h6>'),
			array('<head>', '<head>', '<p><head></p>'),
			array('<header>', '<header>', '<header>'),
			array('<hr>', '<hr>', '<hr>'),
			array('<html>', '<html>', '<p><html></p>'),
			array('<i>', '<i>', '<p><i></p>'),
			array('<iframe>', '<iframe>', '<p><iframe></p>'),
			array('<img>', '<img>', '<p><img></p>'),
			array('<input>', '<input>', '<p><input></p>'),
			array('<ins>', '<ins>', '<p><ins></p>'),
			array('<kbd>', '<kbd>', '<p><kbd></p>'),
			array('<keygen>', '<keygen>', '<p><keygen></p>'),
			array('<label>', '<label>', '<p><label></p>'),
			array('<legend>', '<legend>', '<p><legend></p>'),
			array('<li>', '<li>', '<p><li></p>'),
			array('<link>', '<link>', '<p><link></p>'),
			array('<main>', '<main>', '<p><main></p>'),
			array('<map>', '<map>', '<p><map></p>'),
			array('<mark>', '<mark>', '<p><mark></p>'),
			array('<menu>', '<menu>', '<p><menu></p>'),
			array('<menuitem>', '<menuitem>', '<p><menuitem></p>'),
			array('<meta>', '<meta>', '<p><meta></p>'),
			array('<meter>', '<meter>', '<p><meter></p>'),
			array('<nav>', '<nav>', '<p><nav></p>'),
			array('<noframes>', '<noframes>', '<p><noframes></p>'),
			array('<noscript>', '<noscript>', '<noscript>'),
			array('<object>', '<object>', '<object>'),
			array('<ol>', '<ol>', '<ol>'),
			array('<optgroup>', '<optgroup>', '<p><optgroup></p>'),
			array('<option>', '<option>', '<p><option></p>'),
			array('<output>', '<output>', '<output>'),
			array('<p>', '<p>', '<p>'),
			array('<param>', '<param>', '<param>'),
			array('<picture>', '<picture>', '<picture>'),
			array('<pre>', '<pre>', '<pre>'),
			array('<progress>', '<progress>', '<progress>'),
			array('<q>', '<q>', '<p><q></p>'),
			array('<rp>', '<rp>', '<p><rp></p>'),
			array('<rt>', '<rt>', '<p><rt></p>'),
			array('<ruby>', '<ruby>', '<p><ruby></p>'),
			array('<s>', '<s>', '<p><s></p>'),
			array('<samp>', '<samp>', '<p><samp></p>'),
			array('<script>', '<script>', '<script>'),
			array('<section>', '<section>', '<section>'),
			array('<select>', '<select>', '<p><select></p>'),
			array('<small>', '<small>', '<p><small></p>'),
			array('<source>', '<source>', '<p><source></p>'),
			array('<span>', '<span>', '<p><span></p>'),
			array('<strike>', '<strike>', '<p><strike></p>'),
			array('<strong>', '<strong>', '<p><strong></p>'),
			array('<style>', '<style>', '<p><style></p>'),
			array('<sub>', '<sub>', '<p><sub></p>'),
			array('<summary>', '<summary>', '<p><summary></p>'),
			array('<sup>', '<sup>', '<p><sup></p>'),
			array('<table>', '<table>', '<table>'),
			array('<tbody>', '<tbody>', '<p><tbody></p>'),
			array('<td>', '<td>', '<p><td></p>'),
			array('<textarea>', '<textarea>', '<p><textarea></p>'),
			array('<tfoot>', '<tfoot>', '<p><tfoot></p>'),
			array('<th>', '<th>', '<p><th></p>'),
			array('<thead>', '<thead>', '<p><thead></p>'),
			array('<time>', '<time>', '<p><time></p>'),
			array('<title>', '<title>', '<p><title></p>'),
			array('<tr>', '<tr>', '<p><tr></p>'),
			array('<track>', '<track>', '<p><track></p>'),
			array('<tt>', '<tt>', '<p><tt></p>'),
			array('<u>', '<u>', '<p><u></p>'),
			array('<ul>', '<ul>', '<ul>'),
			array('<var>', '<var>', '<p><var></p>'),
			array('<video>', '<video>', '<video>'),
			array('<wbr>', '<wbr>', '<p><wbr></p>'),
		);
	}

	protected function HTMLWithContentData()
	{
		return array(
			array('<!-- foobar -->', '<!-- foobar -->', '<!-- foobar -->'),
			array('<a>foobar</a>', '<a>foobar</a>', '<p><a>foobar</a></p>'),
            array('<abbr>foobar</abbr>', '<abbr>foobar</abbr>', '<p><abbr>foobar</abbr></p>'),
            array('<acronym>foobar</acronym>', '<acronym>foobar</acronym>', '<p><acronym>foobar</acronym></p>'),
            array('<address>foobar</address>', '<address>foobar</address>', '<address>foobar</address>'),
            // array('<applet>foobar</applet>', '<applet>foobar</applet>', '<applet>foobar</applet>'),
            // array('<area>foobar</area>', '<area>foobar</area>', '<area>foobar</area>'),
            array('<article>foobar</article>', '<article>foobar</article>', '<article>foobar</article>'),
            array('<aside>foobar</aside>', '<aside>foobar</aside>', '<aside>foobar</aside>'),
            array('<audio>foobar</audio>', '<audio>foobar</audio>', '<audio>foobar</audio>'),
			array('<b>foobar</b>', '<b>foobar</b>', '<p><b>foobar</b></p>'),
            // array('<base>foobar</base>', '<base>foobar</base>', '<p><base>foobar</base></p>'),
            // array('<basefont>foobar</basefont>', '<basefont>foobar</basefont>', '<p><basefont>foobar</basefont></p>'),
            // array('<bdi>foobar</bdi>', '<bdi>foobar</bdi>', '<p><bdi>foobar</bdi></p>'),
			array('<bdo>foobar</bdo>', '<bdo>foobar</bdo>', '<p><bdo>foobar</bdo></p>'),
			array('<big>foobar</big>', '<big>foobar</big>', '<p><big>foobar</big></p>'),
            array('<blockquote>foobar</blockquote>', '<blockquote>foobar</blockquote>', "<blockquote><p>foobar</p>\n</blockquote>"),
            // array('<body>foobar</body>', '<body>foobar</body>', '<p><body>foobar</body></p>'),
			array('<button>foobar</button>', '<button>foobar</button>', '<p><button>foobar</button></p>'),
			array('<canvas>foobar</canvas>', '<canvas>foobar</canvas>', '<canvas>foobar</canvas>'),
            // array('<caption>foobar</caption>', '<caption>foobar</caption>', '<p><caption>foobar</caption></p>'),
            // array('<center>foobar</center>', '<center>foobar</center>', '<p><center>foobar</center></p>'),
			array('<cite>foobar</cite>', '<cite>foobar</cite>', '<p><cite>foobar</cite></p>'),
			array('<code>foobar</code>', '<code>foobar</code>', '<p><code>foobar</code></p>'),
            // array('<col>foobar</col>', '<col>foobar</col>', '<p><col>foobar</col></p>'),
            // array('<colgroup>foobar</colgroup>', '<colgroup>foobar</colgroup>', '<p><colgroup>foobar</colgroup></p>'),
            // array('<datalist>foobar</datalist>', '<datalist>foobar</datalist>', '<p><datalist>foobar</datalist></p>'),
            // array('<dd>foobar</dd>', '<dd>foobar</dd>', '<p><dd>foobar</dd></p>'),
			array('<del>foobar</del>', '<del>foobar</del>', '<p><del>foobar</del></p>'),
            // array('<details>foobar</details>', '<details>foobar</details>', '<p><details>foobar</details></p>'),
			array('<dfn>foobar</dfn>', '<dfn>foobar</dfn>', '<p><dfn>foobar</dfn></p>'),
            // array('<dialog>foobar</dialog>', '<dialog>foobar</dialog>', '<p><dialog>foobar</dialog></p>'),
            // array('<dir>foobar</dir>', '<dir>foobar</dir>', '<p><dir>foobar</dir></p>'),
			array('<div>foobar</div>', '<div>foobar</div>', '<div>foobar</div>'),
			array('<dl>foobar</dl>', '<dl>foobar</dl>', '<dl>foobar</dl>'),
            // array('<dt>foobar</dt>', '<dt>foobar</dt>', '<p><dt>foobar</dt></p>'),
			array('<em>foobar</em>', '<em>foobar</em>', '<p><em>foobar</em></p>'),
            // array('<embed>foobar</embed>', '<embed>foobar</embed>', '<p><embed>foobar</embed></p>'),
			array('<fieldset>foobar</fieldset>', '<fieldset>foobar</fieldset>', '<fieldset>foobar</fieldset>'),
			array('<figcaption>foobar</figcaption>', '<figcaption>foobar</figcaption>', '<p><figcaption>foobar</figcaption></p>'),
			array('<figure>foobar</figure>', '<figure>foobar</figure>', '<figure>foobar</figure>'),
            // array('<font>foobar</font>', '<font>foobar</font>', '<p><font>foobar</font></p>'),
			array('<footer>foobar</footer>', '<footer>foobar</footer>', '<footer>foobar</footer>'),
			array('<form>foobar</form>', '<form>foobar</form>', '<form>foobar</form>'),
            // array('<frame>foobar</frame>', '<frame>foobar</frame>', '<p><frame>foobar</frame></p>'),
            // array('<frameset>foobar</frameset>', '<frameset>foobar</frameset>', '<p><frameset>foobar</frameset></p>'),
			array('<h1>foobar</h1>', '<h1>foobar</h1>', '<h1>foobar</h1>'),
			array('<h2>foobar</h2>', '<h2>foobar</h2>', '<h2>foobar</h2>'),
			array('<h3>foobar</h3>', '<h3>foobar</h3>', '<h3>foobar</h3>'),
			array('<h4>foobar</h4>', '<h4>foobar</h4>', '<h4>foobar</h4>'),
			array('<h5>foobar</h5>', '<h5>foobar</h5>', '<h5>foobar</h5>'),
			array('<h6>foobar</h6>', '<h6>foobar</h6>', '<h6>foobar</h6>'),
            // array('<head>foobar</head>', '<head>foobar</head>', '<p><head>foobar</head></p>'),
			array('<header>foobar</header>', '<header>foobar</header>', '<header>foobar</header>'),
            // array('<html>foobar</html>', '<html>foobar</html>', '<p><html>foobar</html></p>'),
			array('<i>foobar</i>', '<i>foobar</i>', '<p><i>foobar</i></p>'),
            // array('<iframe>foobar</iframe>', '<iframe>foobar</iframe>', '<p><iframe>foobar</iframe></p>'),
			array('<ins>foobar</ins>', '<ins>foobar</ins>', '<p><ins>foobar</ins></p>'),
			array('<kbd>foobar</kbd>', '<kbd>foobar</kbd>', '<p><kbd>foobar</kbd></p>'),
            // array('<keygen>foobar</keygen>', '<keygen>foobar</keygen>', '<p><keygen>foobar</keygen></p>'),
			array('<label>foobar</label>', '<label>foobar</label>', '<p><label>foobar</label></p>'),
            // array('<legend>foobar</legend>', '<legend>foobar</legend>', '<p><legend>foobar</legend></p>'),
            // array('<li>foobar</li>', '<li>foobar</li>', '<p><li>foobar</li></p>'),
            // array('<link>foobar</link>', '<link>foobar</link>', '<p><link>foobar</link></p>'),
            // array('<main>foobar</main>', '<main>foobar</main>', '<p><main>foobar</main></p>'),
			array('<map>foobar</map>', '<map>foobar</map>', '<p><map>foobar</map></p>'),
			array('<mark>foobar</mark>', '<mark>foobar</mark>', '<p><mark>foobar</mark></p>'),
            // array('<menu>foobar</menu>', '<menu>foobar</menu>', '<p><menu>foobar</menu></p>'),
            // array('<menuitem>foobar</menuitem>', '<menuitem>foobar</menuitem>', '<p><menuitem>foobar</menuitem></p>'),
            // array('<meta>foobar</meta>', '<meta>foobar</meta>', '<p><meta>foobar</meta></p>'),
            // array('<meter>foobar</meter>', '<meter>foobar</meter>', '<p><meter>foobar</meter></p>'),
            // array('<nav>foobar</nav>', '<nav>foobar</nav>', '<p><nav>foobar</nav></p>'),
            // array('<noframes>foobar</noframes>', '<noframes>foobar</noframes>', '<p><noframes>foobar</noframes></p>'),
			array('<noscript>foobar</noscript>', '<noscript>foobar</noscript>', '<noscript>foobar</noscript>'),
			array('<object>foobar</object>', '<object>foobar</object>', '<object>foobar</object>'),
			array('<ol>foobar</ol>', '<ol>foobar</ol>', '<ol>foobar</ol>'),
            // array('<optgroup>foobar</optgroup>', '<optgroup>foobar</optgroup>', '<p><optgroup>foobar</optgroup></p>'),
            // array('<option>foobar</option>', '<option>foobar</option>', '<p><option>foobar</option></p>'),
			array('<output>foobar</output>', '<output>foobar</output>', '<output>foobar</output>'),
			array('<p>foobar</p>', '<p>foobar</p>', '<p>foobar</p>'),
            array('<param>foobar</param>', '<param>foobar</param>', '<param>foobar</param>'),
            array('<picture>foobar</picture>', '<picture>foobar</picture>','<picture>foobar</picture>'),
			array('<pre>foobar</pre>', '<pre>foobar</pre>', '<pre>foobar</pre>'),
            array('<progress>foobar</progress>', '<progress>foobar</progress>', '<progress>foobar</progress>'),
			array('<q>foobar</q>', '<q>foobar</q>', '<p><q>foobar</q></p>'),
            // array('<rp>foobar</rp>', '<rp>foobar</rp>', '<p><rp>foobar</rp></p>'),
            // array('<rt>foobar</rt>', '<rt>foobar</rt>', '<p><rt>foobar</rt></p>'),
            // array('<ruby>foobar</ruby>', '<ruby>foobar</ruby>', '<p><ruby>foobar</ruby></p>'),
            // array('<s>foobar</s>', '<s>foobar</s>', '<p><s>foobar</s></p>'),
			array('<samp>foobar</samp>', '<samp>foobar</samp>', '<p><samp>foobar</samp></p>'),
			array('<script>foobar</script>', '<script>foobar</script>', '<script>foobar</script>'),
			array('<section>foobar</section>', '<section>foobar</section>', '<section>foobar</section>'),
			array('<select>foobar</select>', '<select>foobar</select>', '<p><select>foobar</select></p>'),
			array('<small>foobar</small>', '<small>foobar</small>', '<p><small>foobar</small></p>'),
            // array('<source>foobar</source>', '<source>foobar</source>', '<p><source>foobar</source></p>'),
			array('<span>foobar</span>', '<span>foobar</span>', '<p><span>foobar</span></p>'),
            // array('<strike>foobar</strike>', '<strike>foobar</strike>', '<p><strike>foobar</strike></p>'),
			array('<strong>foobar</strong>', '<strong>foobar</strong>', '<p><strong>foobar</strong></p>'),
            // array('<style>foobar</style>', '<style>foobar</style>', '<p><style>foobar</style></p>'),
			array('<sub>foobar</sub>', '<sub>foobar</sub>', '<p><sub>foobar</sub></p>'),
            // array('<summary>foobar</summary>', '<summary>foobar</summary>', '<p><summary>foobar</summary></p>'),
			array('<sup>foobar</sup>', '<sup>foobar</sup>', '<p><sup>foobar</sup></p>'),
			array('<table>foobar</table>', '<table>foobar</table>', '<table>foobar</table>'),
            // array('<tbody>foobar</tbody>', '<tbody>foobar</tbody>', '<p><tbody>foobar</tbody></p>'),
            // array('<td>foobar</td>', '<td>foobar</td>', '<p><td>foobar</td></p>'),
			array('<textarea>foobar</textarea>', '<textarea>foobar</textarea>', '<p><textarea>foobar</textarea></p>'),
            // array('<tfoot>foobar</tfoot>', '<tfoot>foobar</tfoot>', '<p><tfoot>foobar</tfoot></p>'),
            // array('<th>foobar</th>', '<th>foobar</th>', '<p><th>foobar</th></p>'),
            // array('<thead>foobar</thead>', '<thead>foobar</thead>', '<p><thead>foobar</thead></p>'),
            // array('<time>foobar</time>', '<time>foobar</time>', '<p><time>foobar</time></p>'),
            // array('<title>foobar</title>', '<title>foobar</title>', '<p><title>foobar</title></p>'),
            // array('<tr>foobar</tr>', '<tr>foobar</tr>', '<p><tr>foobar</tr></p>'),
            // array('<track>foobar</track>', '<track>foobar</track>', '<p><track>foobar</track></p>'),
			array('<tt>foobar</tt>', '<tt>foobar</tt>', '<p><tt>foobar</tt></p>'),
            // array('<u>foobar</u>', '<u>foobar</u>', '<p><u>foobar</u></p>'),
			array('<ul>foobar</ul>', '<ul>foobar</ul>', '<ul>foobar</ul>'),
			array('<var>foobar</var>', '<var>foobar</var>', '<p><var>foobar</var></p>'),
			array('<video>foobar</video>', '<video>foobar</video>', '<video>foobar</video>'),
            // array('<wbr>foobar</wbr>', '<wbr>foobar</wbr>', '<wbr>foobar</wbr>'),
		);
	}

	protected function HTMLAttributesData()
	{
		return array(
			array('async', '<div async>', '<div async>'),
			array('autofocus', '<div autofocus>', '<div autofocus>'),
			array('autoplay', '<div autoplay>', '<div autoplay>'),
			array('challenge', '<div challenge>', '<div challenge>'),
			array('checked', '<div checked>', '<div checked>'),
			array('controls', '<div controls>', '<div controls>'),
			array('default', '<div default>', '<div default>'),
			array('defer', '<div defer>', '<div defer>'),
			array('disabled', '<div disabled>', '<div disabled>'),
			array('hidden', '<div hidden>', '<div hidden>'),
			array('ismap', '<div ismap>', '<div ismap>'),
			array('loop', '<div loop>', '<div loop>'),
			array('multiple', '<div multiple>', '<div multiple>'),
			array('muted', '<div muted>', '<div muted>'),
			array('novalidate', '<div novalidate>', '<div novalidate>'),
			array('readonly', '<div readonly>', '<div readonly>'),
			array('required', '<div required>', '<div required>'),
			array('reversed', '<div reversed>', '<div reversed>'),
			array('sandbox', '<div sandbox>', '<div sandbox>'),
			array('scoped', '<div scoped>', '<div scoped>'),
			array('selected', '<div selected>', '<div selected>'),

			array('accept', '<div accept="foo">', '<div accept="foo">'),
			array('accept-charset', '<div accept-charset="foo">', '<div accept-charset="foo">'),
			array('accesskey', '<div accesskey="foo">', '<div accesskey="foo">'),
			array('action', '<div action="foo">', '<div action="foo">'),
			array('align', '<div align="foo">', '<div align="foo">'),
			array('alt', '<div alt="foo">', '<div alt="foo">'),
			array('autocomplete', '<div autocomplete="foo">', '<div autocomplete="foo">'),
			array('bgcolor', '<div bgcolor="foo">', '<div bgcolor="foo">'),
			array('border', '<div border="foo">', '<div border="foo">'),
			array('charset', '<div charset="foo">', '<div charset="foo">'),
			array('cite', '<div cite="foo">', '<div cite="foo">'),
			array('class', '<div class="foo">', '<div class="foo">'),
			array('color', '<div color="foo">', '<div color="foo">'),
			array('cols', '<div cols="foo">', '<div cols="foo">'),
			array('colspan', '<div colspan="foo">', '<div colspan="foo">'),
			array('content', '<div content="foo">', '<div content="foo">'),
			array('contenteditable', '<div contenteditable="foo">', '<div contenteditable="foo">'),
			array('contextmenu', '<div contextmenu="foo">', '<div contextmenu="foo">'),
			array('coords', '<div coords="foo">', '<div coords="foo">'),
			array('data', '<div data="foo">', '<div data="foo">'),
			array('data', '<div data="foo">', '<div data="foo">'),
			array('datetime', '<div datetime="foo">', '<div datetime="foo">'),
			array('dir', '<div dir="foo">', '<div dir="foo">'),
			array('dirname', '<div dirname="foo">', '<div dirname="foo">'),
			array('download', '<div download="foo">', '<div download="foo">'),
			array('draggable', '<div draggable="foo">', '<div draggable="foo">'),
			array('dropzone', '<div dropzone="foo">', '<div dropzone="foo">'),
			array('enctype', '<div enctype="foo">', '<div enctype="foo">'),
			array('for', '<div for="foo">', '<div for="foo">'),
			array('form', '<div form="foo">', '<div form="foo">'),
			array('formaction', '<div formaction="foo">', '<div formaction="foo">'),
			array('headers', '<div headers="foo">', '<div headers="foo">'),
			array('height', '<div height="foo">', '<div height="foo">'),
			array('high', '<div high="foo">', '<div high="foo">'),
			array('href', '<div href="foo">', '<div href="foo">'),
			array('hreflang', '<div hreflang="foo">', '<div hreflang="foo">'),
			array('http', '<div http="foo">', '<div http="foo">'),
			array('id', '<div id="foo">', '<div id="foo">'),
			array('keytype', '<div keytype="foo">', '<div keytype="foo">'),
			array('kind', '<div kind="foo">', '<div kind="foo">'),
			array('label', '<div label="foo">', '<div label="foo">'),
			array('lang', '<div lang="foo">', '<div lang="foo">'),
			array('list', '<div list="foo">', '<div list="foo">'),
			array('low', '<div low="foo">', '<div low="foo">'),
			array('max', '<div max="foo">', '<div max="foo">'),
			array('maxlength', '<div maxlength="foo">', '<div maxlength="foo">'),
			array('media', '<div media="foo">', '<div media="foo">'),
			array('method', '<div method="foo">', '<div method="foo">'),
			array('min', '<div min="foo">', '<div min="foo">'),
			array('name', '<div name="foo">', '<div name="foo">'),
			array('onabort', '<div onabort="foo">', '<div onabort="foo">'),
			array('onafterprint', '<div onafterprint="foo">', '<div onafterprint="foo">'),
			array('onbeforeprint', '<div onbeforeprint="foo">', '<div onbeforeprint="foo">'),
			array('onbeforeunload', '<div onbeforeunload="foo">', '<div onbeforeunload="foo">'),
			array('onblur', '<div onblur="foo">', '<div onblur="foo">'),
			array('oncanplay', '<div oncanplay="foo">', '<div oncanplay="foo">'),
			array('oncanplaythrough', '<div oncanplaythrough="foo">', '<div oncanplaythrough="foo">'),
			array('onchange', '<div onchange="foo">', '<div onchange="foo">'),
			array('onclick', '<div onclick="foo">', '<div onclick="foo">'),
			array('oncontextmenu', '<div oncontextmenu="foo">', '<div oncontextmenu="foo">'),
			array('oncopy', '<div oncopy="foo">', '<div oncopy="foo">'),
			array('oncuechange', '<div oncuechange="foo">', '<div oncuechange="foo">'),
			array('oncut', '<div oncut="foo">', '<div oncut="foo">'),
			array('ondblclick', '<div ondblclick="foo">', '<div ondblclick="foo">'),
			array('ondrag', '<div ondrag="foo">', '<div ondrag="foo">'),
			array('ondragend', '<div ondragend="foo">', '<div ondragend="foo">'),
			array('ondragenter', '<div ondragenter="foo">', '<div ondragenter="foo">'),
			array('ondragleave', '<div ondragleave="foo">', '<div ondragleave="foo">'),
			array('ondragover', '<div ondragover="foo">', '<div ondragover="foo">'),
			array('ondragstart', '<div ondragstart="foo">', '<div ondragstart="foo">'),
			array('ondrop', '<div ondrop="foo">', '<div ondrop="foo">'),
			array('ondurationchange', '<div ondurationchange="foo">', '<div ondurationchange="foo">'),
			array('onemptied', '<div onemptied="foo">', '<div onemptied="foo">'),
			array('onended', '<div onended="foo">', '<div onended="foo">'),
			array('onerror', '<div onerror="foo">', '<div onerror="foo">'),
			array('onfocus', '<div onfocus="foo">', '<div onfocus="foo">'),
			array('onhashchange', '<div onhashchange="foo">', '<div onhashchange="foo">'),
			array('oninput', '<div oninput="foo">', '<div oninput="foo">'),
			array('oninvalid', '<div oninvalid="foo">', '<div oninvalid="foo">'),
			array('onkeydown', '<div onkeydown="foo">', '<div onkeydown="foo">'),
			array('onkeypress', '<div onkeypress="foo">', '<div onkeypress="foo">'),
			array('onkeyup', '<div onkeyup="foo">', '<div onkeyup="foo">'),
			array('onload', '<div onload="foo">', '<div onload="foo">'),
			array('onloadeddata', '<div onloadeddata="foo">', '<div onloadeddata="foo">'),
			array('onloadedmetadata', '<div onloadedmetadata="foo">', '<div onloadedmetadata="foo">'),
			array('onloadstart', '<div onloadstart="foo">', '<div onloadstart="foo">'),
			array('onmousedown', '<div onmousedown="foo">', '<div onmousedown="foo">'),
			array('onmousemove', '<div onmousemove="foo">', '<div onmousemove="foo">'),
			array('onmouseout', '<div onmouseout="foo">', '<div onmouseout="foo">'),
			array('onmouseover', '<div onmouseover="foo">', '<div onmouseover="foo">'),
			array('onmouseup', '<div onmouseup="foo">', '<div onmouseup="foo">'),
			array('onmousewheel', '<div onmousewheel="foo">', '<div onmousewheel="foo">'),
			array('onoffline', '<div onoffline="foo">', '<div onoffline="foo">'),
			array('ononline', '<div ononline="foo">', '<div ononline="foo">'),
			array('onpagehide', '<div onpagehide="foo">', '<div onpagehide="foo">'),
			array('onpageshow', '<div onpageshow="foo">', '<div onpageshow="foo">'),
			array('onpaste', '<div onpaste="foo">', '<div onpaste="foo">'),
			array('onpause', '<div onpause="foo">', '<div onpause="foo">'),
			array('onplay', '<div onplay="foo">', '<div onplay="foo">'),
			array('onplaying', '<div onplaying="foo">', '<div onplaying="foo">'),
			array('onpopstate', '<div onpopstate="foo">', '<div onpopstate="foo">'),
			array('onprogress', '<div onprogress="foo">', '<div onprogress="foo">'),
			array('onratechange', '<div onratechange="foo">', '<div onratechange="foo">'),
			array('onreset', '<div onreset="foo">', '<div onreset="foo">'),
			array('onresize', '<div onresize="foo">', '<div onresize="foo">'),
			array('onscroll', '<div onscroll="foo">', '<div onscroll="foo">'),
			array('onsearch', '<div onsearch="foo">', '<div onsearch="foo">'),
			array('onseeked', '<div onseeked="foo">', '<div onseeked="foo">'),
			array('onseeking', '<div onseeking="foo">', '<div onseeking="foo">'),
			array('onselect', '<div onselect="foo">', '<div onselect="foo">'),
			array('onshow', '<div onshow="foo">', '<div onshow="foo">'),
			array('onstalled', '<div onstalled="foo">', '<div onstalled="foo">'),
			array('onstorage', '<div onstorage="foo">', '<div onstorage="foo">'),
			array('onsubmit', '<div onsubmit="foo">', '<div onsubmit="foo">'),
			array('onsuspend', '<div onsuspend="foo">', '<div onsuspend="foo">'),
			array('ontimeupdate', '<div ontimeupdate="foo">', '<div ontimeupdate="foo">'),
			array('ontoggle', '<div ontoggle="foo">', '<div ontoggle="foo">'),
			array('onunload', '<div onunload="foo">', '<div onunload="foo">'),
			array('onvolumechange', '<div onvolumechange="foo">', '<div onvolumechange="foo">'),
			array('onwaiting', '<div onwaiting="foo">', '<div onwaiting="foo">'),
			array('onwheel', '<div onwheel="foo">', '<div onwheel="foo">'),
			array('open', '<div open="foo">', '<div open="foo">'),
			array('optimum', '<div optimum="foo">', '<div optimum="foo">'),
			array('pattern', '<div pattern="foo">', '<div pattern="foo">'),
			array('placeholder', '<div placeholder="foo">', '<div placeholder="foo">'),
			array('poster', '<div poster="foo">', '<div poster="foo">'),
			array('preload', '<div preload="foo">', '<div preload="foo">'),
			array('rel', '<div rel="foo">', '<div rel="foo">'),
			array('rows', '<div rows="foo">', '<div rows="foo">'),
			array('rowspan', '<div rowspan="foo">', '<div rowspan="foo">'),
			array('scope', '<div scope="foo">', '<div scope="foo">'),
			array('shape', '<div shape="foo">', '<div shape="foo">'),
			array('size', '<div size="foo">', '<div size="foo">'),
			array('sizes', '<div sizes="foo">', '<div sizes="foo">'),
			array('span', '<div span="foo">', '<div span="foo">'),
			array('spellcheck', '<div spellcheck="foo">', '<div spellcheck="foo">'),
			array('src', '<div src="foo">', '<div src="foo">'),
			array('srcdoc', '<div srcdoc="foo">', '<div srcdoc="foo">'),
			array('srclang', '<div srclang="foo">', '<div srclang="foo">'),
			array('srcset', '<div srcset="foo">', '<div srcset="foo">'),
			array('start', '<div start="foo">', '<div start="foo">'),
			array('step', '<div step="foo">', '<div step="foo">'),
			array('style', '<div style="foo">', '<div style="foo">'),
			array('tabindex', '<div tabindex="foo">', '<div tabindex="foo">'),
			array('target', '<div target="foo">', '<div target="foo">'),
			array('title', '<div title="foo">', '<div title="foo">'),
			array('translate', '<div translate="foo">', '<div translate="foo">'),
			array('type', '<div type="foo">', '<div type="foo">'),
			array('usemap', '<div usemap="foo">', '<div usemap="foo">'),
			array('value', '<div value="foo">', '<div value="foo">'),
			array('width', '<div width="foo">', '<div width="foo">'),
			array('wrap', '<div wrap="foo">', '<div wrap="foo">'),
		);
	}

	protected function HTMLWithAttributesData()
	{
		$all_attributes = 'async autofocus autoplay challenge checked controls default defer disabled hidden ismap loop multiple muted novalidate readonly required reversed sandbox scoped selected accept="foo" accept-charset="foo" accesskey="foo" action="foo" align="foo" alt="foo" autocomplete="foo" bgcolor="foo" border="foo" charset="foo" cite="foo" class="foo" color="foo" cols="foo" colspan="foo" content="foo" contenteditable="foo" contextmenu="foo" coords="foo" data="foo" data="foo" datetime="foo" dir="foo" dirname="foo" download="foo" draggable="foo" dropzone="foo" enctype="foo" for="foo" form="foo" formaction="foo" headers="foo" height="foo" high="foo" href="foo" hreflang="foo" http="foo" id="foo" keytype="foo" kind="foo" label="foo" lang="foo" list="foo" low="foo" max="foo" maxlength="foo" media="foo" method="foo" min="foo" name="foo" onabort="foo" onafterprint="foo" onbeforeprint="foo" onbeforeunload="foo" onblur="foo" oncanplay="foo" oncanplaythrough="foo" onchange="foo" onclick="foo" oncontextmenu="foo" oncopy="foo" oncuechange="foo" oncut="foo" ondblclick="foo" ondrag="foo" ondragend="foo" ondragenter="foo" ondragleave="foo" ondragover="foo" ondragstart="foo" ondrop="foo" ondurationchange="foo" onemptied="foo" onended="foo" onerror="foo" onfocus="foo" onhashchange="foo" oninput="foo" oninvalid="foo" onkeydown="foo" onkeypress="foo" onkeyup="foo" onload="foo" onloadeddata="foo" onloadedmetadata="foo" onloadstart="foo" onmousedown="foo" onmousemove="foo" onmouseout="foo" onmouseover="foo" onmouseup="foo" onmousewheel="foo" onoffline="foo" ononline="foo" onpagehide="foo" onpageshow="foo" onpaste="foo" onpause="foo" onplay="foo" onplaying="foo" onpopstate="foo" onprogress="foo" onratechange="foo" onreset="foo" onresize="foo" onscroll="foo" onsearch="foo" onseeked="foo" onseeking="foo" onselect="foo" onshow="foo" onstalled="foo" onstorage="foo" onsubmit="foo" onsuspend="foo" ontimeupdate="foo" ontoggle="foo" onunload="foo" onvolumechange="foo" onwaiting="foo" onwheel="foo" open="foo" optimum="foo" pattern="foo" placeholder="foo" poster="foo" preload="foo" rel="foo" rows="foo" rowspan="foo" scope="foo" shape="foo" size="foo" sizes="foo" span="foo" spellcheck="foo" src="foo" srcdoc="foo" srclang="foo" srcset="foo" start="foo" step="foo" style="foo" tabindex="foo" target="foo" title="foo" translate="foo" type="foo" usemap="foo" value="foo" width="foo" wrap="foo"';
		$allowed_attributes = $all_attributes;

		return array(
			array('<a> with attributes', '<a ' . $all_attributes . '></a>', '<p><a ' . $allowed_attributes . '></a></p>'),
            array('<abbr> with attributes', '<abbr ' . $all_attributes . '></abbr>', '<p><abbr ' . $allowed_attributes . '></abbr></p>'),
            array('<acronym> with attributes', '<acronym ' . $all_attributes . '></acronym>', '<p><acronym ' . $allowed_attributes . '></acronym></p>'),
            array('<address> with attributes', '<address ' . $all_attributes . '></address>', '<address ' . $allowed_attributes . '></address>'),
            // array('<applet> with attributes', '<applet ' . $all_attributes . '></applet>', '<p><applet ' . $allowed_attributes . '></applet></p>'),
            // array('<area> with attributes', '<area ' . $all_attributes . '></area>', '<p><area ' . $allowed_attributes . '></area></p>'),
            array('<article> with attributes', '<article ' . $all_attributes . '></article>', '<article ' . $allowed_attributes . '></article>'),
            array('<aside> with attributes', '<aside ' . $all_attributes . '></aside>', '<aside ' . $allowed_attributes . '></aside>'),
            array('<audio> with attributes', '<audio ' . $all_attributes . '></audio>', '<audio ' . $allowed_attributes . '></audio>'),
			array('<b> with attributes', '<b ' . $all_attributes . '></b>', '<p><b ' . $allowed_attributes . '></b></p>'),
            // array('<base> with attributes', '<base ' . $all_attributes . '></base>', '<p><base ' . $allowed_attributes . '></base></p>'),
            // array('<basefont> with attributes', '<basefont ' . $all_attributes . '></basefont>', '<p><basefont ' . $allowed_attributes . '></basefont></p>'),
            // array('<bdi> with attributes', '<bdi ' . $all_attributes . '></bdi>', '<p><bdi ' . $allowed_attributes . '></bdi></p>'),
			array('<bdo> with attributes', '<bdo ' . $all_attributes . '></bdo>', '<p><bdo ' . $allowed_attributes . '></bdo></p>'),
			array('<big> with attributes', '<big ' . $all_attributes . '></big>', '<p><big ' . $allowed_attributes . '></big></p>'),
			array('<blockquote> with attributes', '<blockquote ' . $all_attributes . '></blockquote>', '<blockquote ' . $allowed_attributes . '></blockquote>'),
            // array('<body> with attributes', '<body ' . $all_attributes . '></body>', '<p><body ' . $allowed_attributes . '></body></p>'),
            array('<br> with attributes', '<br ' . $all_attributes . '>', '<p><br ' . $all_attributes . '></p>'),
			array('<button> with attributes', '<button ' . $all_attributes . '></button>', '<p><button ' . $allowed_attributes . '></button></p>'),
			array('<canvas> with attributes', '<canvas ' . $all_attributes . '></canvas>', '<canvas ' . $allowed_attributes . '></canvas>'),
            // array('<caption> with attributes', '<caption ' . $all_attributes . '></caption>', '<p><caption ' . $allowed_attributes . '></caption></p>'),
            // array('<center> with attributes', '<center ' . $all_attributes . '></center>', '<p><center ' . $allowed_attributes . '></center></p>'),
			array('<cite> with attributes', '<cite ' . $all_attributes . '></cite>', '<p><cite ' . $allowed_attributes . '></cite></p>'),
			array('<code> with attributes', '<code ' . $all_attributes . '></code>', '<p><code ' . $all_attributes . '></code></p>'),
            // array('<col> with attributes', '<col ' . $all_attributes . '></col>', '<p><col ' . $allowed_attributes . '></col></p>'),
            // array('<colgroup> with attributes', '<colgroup ' . $all_attributes . '></colgroup>', '<p><colgroup ' . $allowed_attributes . '></colgroup></p>'),
            // array('<datalist> with attributes', '<datalist ' . $all_attributes . '></datalist>', '<p><datalist ' . $allowed_attributes . '></datalist></p>'),
            // array('<dd> with attributes', '<dd ' . $all_attributes . '></dd>', '<p><dd ' . $allowed_attributes . '></dd></p>'),
			array('<del> with attributes', '<del ' . $all_attributes . '></del>', '<p><del ' . $allowed_attributes . '></del></p>'),
            // array('<details> with attributes', '<details ' . $all_attributes . '></details>', '<p><details ' . $allowed_attributes . '></details></p>'),
			array('<dfn> with attributes', '<dfn ' . $all_attributes . '></dfn>', '<p><dfn ' . $allowed_attributes . '></dfn></p>'),
            // array('<dialog> with attributes', '<dialog ' . $all_attributes . '></dialog>', '<p><dialog ' . $allowed_attributes . '></dialog></p>'),
            // array('<dir> with attributes', '<dir ' . $all_attributes . '></dir>', '<p><dir ' . $allowed_attributes . '></dir></p>'),
			array('<div> with attributes', '<div ' . $all_attributes . '></div>', '<div ' . $allowed_attributes . '></div>'),
			array('<dl> with attributes', '<dl ' . $all_attributes . '></dl>', '<dl ' . $allowed_attributes . '></dl>'),
            // array('<dt> with attributes', '<dt ' . $all_attributes . '></dt>', '<p><dt ' . $allowed_attributes . '></dt></p>'),
			array('<em> with attributes', '<em ' . $all_attributes . '></em>', '<p><em ' . $allowed_attributes . '></em></p>'),
            // array('<embed> with attributes', '<embed ' . $all_attributes . '></embed>', '<p><embed ' . $allowed_attributes . '></embed></p>'),
			array('<fieldset> with attributes', '<fieldset ' . $all_attributes . '></fieldset>', '<fieldset ' . $allowed_attributes . '></fieldset>'),
			array('<figcaption> with attributes', '<figcaption ' . $all_attributes . '></figcaption>', '<p><figcaption ' . $allowed_attributes . '></figcaption></p>'),
			array('<figure> with attributes', '<figure ' . $all_attributes . '></figure>', '<figure ' . $allowed_attributes . '></figure>'),
            // array('<font> with attributes', '<font ' . $all_attributes . '></font>', '<p><font ' . $allowed_attributes . '></font></p>'),
			array('<footer> with attributes', '<footer ' . $all_attributes . '></footer>', '<footer ' . $allowed_attributes . '></footer>'),
			array('<form> with attributes', '<form ' . $all_attributes . '></form>', '<form ' . $allowed_attributes . '></form>'),
            // array('<frame> with attributes', '<frame ' . $all_attributes . '></frame>', '<p><frame ' . $allowed_attributes . '></frame></p>'),
            // array('<frameset> with attributes', '<frameset ' . $all_attributes . '></frameset>', '<p><frameset ' . $allowed_attributes . '></frameset></p>'),
            array('<h1> with attributes', '<h1 ' . $all_attributes . '></h1>', '<h1 ' . $allowed_attributes . '></h1>'),
            array('<h2> with attributes', '<h2 ' . $all_attributes . '></h2>', '<h2 ' . $allowed_attributes . '></h2>'),
            array('<h3> with attributes', '<h3 ' . $all_attributes . '></h3>', '<h3 ' . $allowed_attributes . '></h3>'),
            array('<h4> with attributes', '<h4 ' . $all_attributes . '></h4>', '<h4 ' . $allowed_attributes . '></h4>'),
            array('<h5> with attributes', '<h5 ' . $all_attributes . '></h5>', '<h5 ' . $allowed_attributes . '></h5>'),
            array('<h6> with attributes', '<h6 ' . $all_attributes . '></h6>', '<h6 ' . $allowed_attributes . '></h6>'),
            // array('<head> with attributes', '<head ' . $all_attributes . '></head>', '<p><head ' . $allowed_attributes . '></head></p>'),
			array('<header> with attributes', '<header ' . $all_attributes . '></header>', '<header ' . $allowed_attributes . '></header>'),
            // array('<html> with attributes', '<html ' . $all_attributes . '></html>', '<p><html ' . $allowed_attributes . '></html></p>'),
			array('<i> with attributes', '<i ' . $all_attributes . '></i>', '<p><i ' . $allowed_attributes . '></i></p>'),
            // array('<iframe> with attributes', '<iframe ' . $all_attributes . '></iframe>', '<p><iframe ' . $allowed_attributes . '></iframe></p>'),
            array('<img> with attributes', '<img ' . $all_attributes . '>', '<p><img ' . $allowed_attributes . '></p>'),
			array('<input> with attributes', '<input ' . $all_attributes . '>', '<p><input ' . $allowed_attributes . '></p>'),
			array('<ins> with attributes', '<ins ' . $all_attributes . '></ins>', '<p><ins ' . $allowed_attributes . '></ins></p>'),
			array('<kbd> with attributes', '<kbd ' . $all_attributes . '></kbd>', '<p><kbd ' . $allowed_attributes . '></kbd></p>'),
            // array('<keygen> with attributes', '<keygen ' . $all_attributes . '></keygen>', '<p><keygen ' . $allowed_attributes . '></keygen></p>'),
			array('<label> with attributes', '<label ' . $all_attributes . '></label>', '<p><label ' . $allowed_attributes . '></label></p>'),
            // array('<legend> with attributes', '<legend ' . $all_attributes . '></legend>', '<p><legend ' . $allowed_attributes . '></legend></p>'),
            // array('<li> with attributes', '<li ' . $all_attributes . '></li>', '<p><li ' . $allowed_attributes . '></li></p>'),
            // array('<link> with attributes', '<link ' . $all_attributes . '></link>', '<p><link ' . $allowed_attributes . '></link></p>'),
            // array('<main> with attributes', '<main ' . $all_attributes . '></main>', '<p><main ' . $allowed_attributes . '></main></p>'),
			array('<map> with attributes', '<map ' . $all_attributes . '></map>', '<p><map ' . $allowed_attributes . '></map></p>'),
			array('<mark> with attributes', '<mark ' . $all_attributes . '></mark>', '<p><mark ' . $all_attributes . '></mark></p>'),
            // array('<menu> with attributes', '<menu ' . $all_attributes . '></menu>', '<p><menu ' . $allowed_attributes . '></menu></p>'),
            // array('<menuitem> with attributes', '<menuitem ' . $all_attributes . '></menuitem>', '<p><menuitem ' . $allowed_attributes . '></menuitem></p>'),
            // array('<meta> with attributes', '<meta ' . $all_attributes . '></meta>', '<p><meta ' . $allowed_attributes . '></meta></p>'),
            // array('<meter> with attributes', '<meter ' . $all_attributes . '></meter>', '<p><meter ' . $allowed_attributes . '></meter></p>'),
            // array('<nav> with attributes', '<nav ' . $all_attributes . '></nav>', '<p><nav ' . $allowed_attributes . '></nav></p>'),
            // array('<noframes> with attributes', '<noframes ' . $all_attributes . '></noframes>', '<p><noframes ' . $allowed_attributes . '></noframes></p>'),
			array('<noscript> with attributes', '<noscript ' . $all_attributes . '></noscript>', '<noscript ' . $allowed_attributes . '></noscript>'),
			array('<object> with attributes', '<object ' . $all_attributes . '></object>', '<object ' . $allowed_attributes . '></object>'),
			array('<ol> with attributes', '<ol ' . $all_attributes . '></ol>', '<ol ' . $allowed_attributes . '></ol>'),
            // array('<optgroup> with attributes', '<optgroup ' . $all_attributes . '></optgroup>', '<p><optgroup ' . $allowed_attributes . '></optgroup></p>'),
            // array('<option> with attributes', '<option ' . $all_attributes . '></option>', '<p><option ' . $allowed_attributes . '></option></p>'),
			array('<output> with attributes', '<output ' . $all_attributes . '></output>', '<output ' . $allowed_attributes . '></output>'),
			array('<p> with attributes', '<p ' . $all_attributes . '></p>', '<p ' . $all_attributes . '></p>'),
            array('<param> with attributes', '<param ' . $all_attributes . '></param>', '<param ' . $allowed_attributes . '></param>'),
            array('<picture> with attributes', '<picture ' . $all_attributes . '></picture>', '<picture ' . $allowed_attributes . '></picture>'),
			array('<pre> with attributes', '<pre ' . $all_attributes . '></pre>', '<pre ' . $all_attributes . '></pre>'),
            array('<progress> with attributes', '<progress ' . $all_attributes . '></progress>', '<progress ' . $allowed_attributes . '></progress>'),
			array('<q> with attributes', '<q ' . $all_attributes . '></q>', '<p><q ' . $allowed_attributes . '></q></p>'),
            // array('<rp> with attributes', '<rp ' . $all_attributes . '></rp>', '<p><rp ' . $allowed_attributes . '></rp></p>'),
            // array('<rt> with attributes', '<rt ' . $all_attributes . '></rt>', '<p><rt ' . $allowed_attributes . '></rt></p>'),
            // array('<ruby> with attributes', '<ruby ' . $all_attributes . '></ruby>', '<p><ruby ' . $allowed_attributes . '></ruby></p>'),
            // array('<s> with attributes', '<s ' . $all_attributes . '></s>', '<p><s ' . $allowed_attributes . '></s></p>'),
			array('<samp> with attributes', '<samp ' . $all_attributes . '></samp>', '<p><samp ' . $allowed_attributes . '></samp></p>'),
			array('<script> with attributes', '<script ' . $all_attributes . '></script>', '<script ' . $all_attributes . '></script>'),
			array('<section> with attributes', '<section ' . $all_attributes . '></section>', '<section ' . $allowed_attributes . '></section>'),
			array('<select> with attributes', '<select ' . $all_attributes . '></select>', '<p><select ' . $allowed_attributes . '></select></p>'),
			array('<small> with attributes', '<small ' . $all_attributes . '></small>', '<p><small ' . $allowed_attributes . '></small></p>'),
            // array('<source> with attributes', '<source ' . $all_attributes . '></source>', '<p><source ' . $allowed_attributes . '></source></p>'),
			array('<span> with attributes', '<span ' . $all_attributes . '></span>', '<p><span ' . $all_attributes . '></span></p>'),
            // array('<strike> with attributes', '<strike ' . $all_attributes . '></strike>', '<p><strike ' . $allowed_attributes . '></strike></p>'),
			array('<strong> with attributes', '<strong ' . $all_attributes . '></strong>', '<p><strong ' . $allowed_attributes . '></strong></p>'),
            // array('<style> with attributes', '<style ' . $all_attributes . '></style>', '<p><style ' . $allowed_attributes . '></style></p>'),
			array('<sub> with attributes', '<sub ' . $all_attributes . '></sub>', '<p><sub ' . $allowed_attributes . '></sub></p>'),
            // array('<summary> with attributes', '<summary ' . $all_attributes . '></summary>', '<p><summary ' . $allowed_attributes . '></summary></p>'),
			array('<sup> with attributes', '<sup ' . $all_attributes . '></sup>', '<p><sup ' . $allowed_attributes . '></sup></p>'),
			array('<table> with attributes', '<table ' . $all_attributes . '></table>', '<table ' . $allowed_attributes . '></table>'),
            // array('<tbody> with attributes', '<tbody ' . $all_attributes . '></tbody>', '<p><tbody ' . $allowed_attributes . '></tbody></p>'),
            // array('<td> with attributes', '<td ' . $all_attributes . '></td>', '<p><td ' . $allowed_attributes . '></td></p>'),
			array('<textarea> with attributes', '<textarea ' . $all_attributes . '></textarea>', '<p><textarea ' . $allowed_attributes . '></textarea></p>'),
            // array('<tfoot> with attributes', '<tfoot ' . $all_attributes . '></tfoot>', '<p><tfoot ' . $allowed_attributes . '></tfoot></p>'),
            // array('<th> with attributes', '<th ' . $all_attributes . '></th>', '<p><th ' . $allowed_attributes . '></th></p>'),
            // array('<thead> with attributes', '<thead ' . $all_attributes . '></thead>', '<p><thead ' . $allowed_attributes . '></thead></p>'),
            // array('<time> with attributes', '<time ' . $all_attributes . '></time>', '<p><time ' . $allowed_attributes . '></time></p>'),
            // array('<title> with attributes', '<title ' . $all_attributes . '></title>', '<p><title ' . $allowed_attributes . '></title></p>'),
            // array('<tr> with attributes', '<tr ' . $all_attributes . '></tr>', '<p><tr ' . $allowed_attributes . '></tr></p>'),
            // array('<track> with attributes', '<track ' . $all_attributes . '></track>', '<p><track ' . $allowed_attributes . '></track></p>'),
			array('<tt> with attributes', '<tt ' . $all_attributes . '></tt>', '<p><tt ' . $allowed_attributes . '></tt></p>'),
            // array('<u> with attributes', '<u ' . $all_attributes . '></u>', '<p><u ' . $allowed_attributes . '></u></p>'),
			array('<ul> with attributes', '<ul ' . $all_attributes . '></ul>', '<ul ' . $allowed_attributes . '></ul>'),
			array('<var> with attributes', '<var ' . $all_attributes . '></var>', '<p><var ' . $allowed_attributes . '></var></p>'),
			array('<video> with attributes', '<video ' . $all_attributes . '></video>', '<video ' . $allowed_attributes . '></video>'),
            // array('<wbr> with attributes', '<wbr ' . $all_attributes . '></wbr>', '<p><wbr ' . $allowed_attributes . '></wbr></p>'),
		);
	}

	protected function markdownData()
	{
		$data = array(
			// Automatic Escaping
			array('Ampersands', 'AT&T', "<p>AT&amp;T</p>"),
			array('HTML Entity', '&copy;', "<p>&copy;</p>"),
			array('Angle brackets', '4 < 5 and 3 > 4', "<p>4 &lt; 5 and 3 &gt; 4</p>"),

			// Links
			// array('Link with title attribute', 'This is [an example](http://example.com/ "Title") inline link.', ""),
			array('Link without title attribute', '[This link](http://example.net/) has no title attribute.', '<p>[This link](<a href="http://example.net/">http://example.net/</a>) has no title attribute.</p>'),
			array('Relative URLs', 'See my [About](/about/) page for details.', '<p>See my [About](/about/) page for details.</p>'),
			array('Refernce style link', "This is [an example][id] reference-style link.\n\n[id]: http://example.com/  \"Optional Title Here\"\n", "<p>This is [an example][id] reference-style link.</p>\n\n<p>[id]: <a href=\"http://example.com/\">http://example.com/</a>&nbsp; &#8220;Optional Title Here&#8221;</p>\n\n"),
			array('Refernce style link (with space)', "This is [an example] [id] reference-style link.\n\n[id]: http://example.com/  \"Optional Title Here\"\n", "<p>This is [an example] [id] reference-style link.</p>\n\n<p>[id]: <a href=\"http://example.com/\">http://example.com/</a>&nbsp; &#8220;Optional Title Here&#8221;</p>\n\n"),
			// array('Refernce style link (with single quote)', "This is [an example][id] reference-style link.\n\n[id]: http://example.com/  'Optional Title Here'", "<p>This is <a href=\"http://example.com/\" title=\"Optional Title Here\">an example</a> reference-style link.</p>"),
			array('Refernce style link (with parenthesis)', "This is [an example][id] reference-style link.\n\n[id]: http://example.com/  (Optional Title Here)", "<p>This is [an example][id] reference-style link.</p>\n\n<p>[id]: <a href=\"http://example.com/\">http://example.com/</a>&nbsp; (Optional Title Here)</p>"),
			array('Refernce style link (with angle brackets)', "This is [an example][id] reference-style link.\n\n[id]: <http://example.com/>  \"Optional Title Here\"\n", "<p>This is [an example][id] reference-style link.</p>\n\n<p>[id]: &lt;http://example.com&gt;&nbsp; &#8220;Optional Title Here&#8221;</p>\n\n"),
			array('Refernce style link (with title on newline)', "This is [an example][id] reference-style link.\n\n[id]: http://example.com/\n\t\"Optional Title Here\"\n", "<p>This is [an example][id] reference-style link.</p>\n\n<p>[id]: <a href=\"http://example.com/\">http://example.com/</a><br />\n &#8220;Optional Title Here&#8221;</p>\n\n"),
			array('Refernce style implicit link', "Visit [Daring Fireball][] for more information.\n\n[Daring Fireball]: http://daringfireball.net/", "<p>Visit [Daring Fireball][] for more information.</p>\n\n<p>[Daring Fireball]: <a href=\"http://daringfireball.net/\">http://daringfireball.net/</a></p>"),
			array('Automatic link', '<http://example.com>', '<p>&lt;http://example.com&gt;</p>'),
            // array('Automatic email ink', '<address@example.com>', '<p>&lt;a&gt;</p>'),

			// Emphasis
			array('Single asterisks', '*single asterisks*', '<p>*single asterisks*</p>'),
			array('Single underscores', '_single underscores_', '<p>_single underscores_</p>'),
			array('Double asterisks', '**double asterisks**', '<p>**double asterisks**</p>'),
			array('Double underscores', '__double underscores__', '<p>__double underscores__</p>'),
			array('Single asterisks in the middle of a word', 'un*frigging*believable', '<p>un*frigging*believable</p>'),
			array('Double asterisks in the middle of a word', 'un**frigging**believable', '<p>un**frigging**believable</p>'),
			array('Literal asterisk', '8 * 7 = 56', '<p>8 * 7 = 56</p>'),
			array('Literal underscore', 'Literal _ underscore', '<p>Literal _ underscore</p>'),
			array('Escaped asterisk', '\*this text is surrounded by literal asterisks\*', '<p>\*this text is surrounded by literal asterisks\*</p>'),
			array('Escaped underscore', '\_this text is surrounded by literal asterisks\_', '<p>\_this text is surrounded by literal asterisks\_</p>'),

			// Code
			array('Span of code', 'Use the `printf()` function.', '<p>Use the `printf()` function.</p>'),
			array('Literal backtick', '``There is a literal backtick (`) here.``', '<p>``There is a literal backtick (`) here.``</p>'),
			array('Encoded angle brackets inside code span', "Please don't use any `<blink>` tags.", "<p>Please don&#8217;t use any `&lt;blink&gt;` tags.</p>"),
			array('Encoded ampersands inside code span', '`&#8212;` is the decimal-encoded equivalent of `&mdash;`.', '<p>`&#8212;` is the decimal-encoded equivalent of `&mdash;`.</p>'),

			// Images
			array('Image tag', '![Alt text](/path/to/img.jpg)', '<p>![Alt text](/path/to/img.jpg)</p>'),
			// array('Image tag with title', '![Alt text](/path/to/img.jpg "Optional title")', ""),
			array('Reference style image tag', "![Alt text][id]\n\n[id]: url/to/image  \"Optional title attribute\"\n", "<p>![Alt text][id]</p>\n\n<p>[id]: url/to/image  &#8220;Optional title attribute&#8221;</p>\n\n"),

			// Escapes
			array('Escaped backslash', '\\\\', "<p>\\\\</p>"),
			array('Escaped backtick', '\`', "<p>\`</p>"),
			array('Escaped asterisk', '\*', "<p>\*</p>"),
			array('Escaped underscore', '\_', "<p>\_</p>"),
			array('Escaped curly braces', '\{\}', "<p>\&#123;\&#125;</p>"),
			array('Escaped square brackets', '\[\]', "<p>\[\]</p>"),
			array('Escaped parentheses', '\(\)', "<p>\(\)</p>"),
			array('Escaped hash mark', '\#', "<p>\#</p>"),
			array('Escaped plus sign', '\+', "<p>\+</p>"),
			array('Escaped hyphen', '\-', "<p>\-</p>"),
			array('Escaped dot', '\.', "<p>\.</p>"),
			array('Escaped exclamation mark', '\!', "<p>\!</p>"),

			// Horizontal rules
			array('HR by "* * *"', '* * *', '<p>* * *</p>'),
			array('HR by "***"', '***', '<p>***</p>'),
			array('HR by "*****"', '*****', '<p>*****</p>'),
			array('HR by "---"', '---', '<p>&#8212;-</p>'),
			array('HR by "- - -"', '- - -', '<p>- - -</p>'),
			array('HR by "-----"', '-----', '<p>&#8212;&#8212;-</p>'),
			array('HR by "___"', '___', '<p>___</p>'),
			array('HR by "_ _ _"', '_ _ _', '<p>_ _ _</p>'),
			array('HR by "_____"', '_____', '<p>_____</p>'),

			// Headers
			array('# H1', '# This is an H1', '<p># This is an H1</p>'),
			array('## H2', '## This is an H2', '<p>## This is an H2</p>'),
			array('### H3', '### This is an H3', '<p>### This is an H3</p>'),
			array('#### H4', '#### This is an H4', '<p>#### This is an H4</p>'),
			array('##### H5', '##### This is an H5', '<p>##### This is an H5</p>'),
			array('###### H6', '###### This is an H6', '<p>###### This is an H6</p>'),
			array('# H1 #', '# This is an H1 #', '<p># This is an H1 #</p>'),
			array('## H2 ##', '## This is an H2 ##', '<p>## This is an H2 ##</p>'),
			array('### H3 ###', '### This is an H3 ###', '<p>### This is an H3 ###</p>'),
			array('#### H4 ####', '#### This is an H4 ####', '<p>#### This is an H4 ####</p>'),
			array('##### H5 #####', '##### This is an H5 #####', '<p>##### This is an H5 #####</p>'),
			array('###### H6 ######', '###### This is an H6 ######', '<p>###### This is an H6 ######</p>'),
			array('H1 by underscore', "This is an H1\n=============", "<p>This is an H1<br />\n=============</p>"),
			array('H2 by underscore', "This is an H2\n-------------", "<p>This is an H2<br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-</p>"),

			/* @TODO alter the expectation...
			// Blockquotes
			array('Email style blockquote', $this->getContentForMarkup('email-style-blockquote.in.md'), $this->getContentForMarkup('email-style-blockquote.in.md')),
			array('Lazy style blockquote', $this->getContentForMarkup('lazy-style-blockquote.in.md'), $this->getContentForMarkup('lazy-style-blockquote.in.md')),
			array('Nested blockquotes', $this->getContentForMarkup('nested-blockquotes.in.md'), $this->getContentForMarkup('nested-blockquotes.in.md')),
			array('Markdown inside blockquote', $this->getContentForMarkup('markdown-in-blockquote.in.md'), $this->getContentForMarkup('markdown-in-blockquote.in.md')),

			// Lists
			array('List by asterisk', $this->getContentForMarkup('list-by-asterisk.in.md'), $this->getContentForMarkup('list-by-asterisk.in.md')),
			array('List by plus', $this->getContentForMarkup('list-by-plus.in.md'), $this->getContentForMarkup('list-by-plus.in.md')),
			array('List by hyphen', $this->getContentForMarkup('list-by-hyphen.in.md'), $this->getContentForMarkup('list-by-hyphen.in.md')),
			array('Ordered list', $this->getContentForMarkup('ordered-list.in.md'), $this->getContentForMarkup('ordered-list.in.md')),
			array('Wrapped lists', $this->getContentForMarkup('wrapped-lists.in.md'), $this->getContentForMarkup('wrapped-lists.in.md')),
			array('Lists with paragraph tags', $this->getContentForMarkup('lists-with-paragraph-tags.in.md'), $this->getContentForMarkup('lists-with-paragraph-tags.in.md')),
			array('Lists with paragraphs', $this->getContentForMarkup('lists-with-paragraphs.in.md'), $this->getContentForMarkup('lists-with-paragraphs.in.md')),
			array('Lists with blockquotes', $this->getContentForMarkup('lists-with-blockquotes.in.md'), $this->getContentForMarkup('lists-with-blockquotes.in.md')),
			array('Lists with code blocks', $this->getContentForMarkup('lists-with-code-blocks.in.md'), $this->getContentForMarkup('lists-with-code-blocks.in.md')),
			array('Not a list', '1986\. What a great season.', "<p>1986&#46; What a great season.</p>"),

			// Code blocks
			array('Code block by 4 spaces', $this->getContentForMarkup('codeblock-by-4-spaces.in.md'), $this->getContentForMarkup('codeblock-by-4-spaces.in.md')),
			array('Code block by 5 spaces', $this->getContentForMarkup('codeblock-by-5-spaces.in.md'), $this->getContentForMarkup('codeblock-by-5-spaces.in.md')),
			array('Code block by 1 tab', $this->getContentForMarkup('codeblock-by-1-tab.in.md'), $this->getContentForMarkup('codeblock-by-1-tab.in.md')),
			array('Code block by 2 tabs', $this->getContentForMarkup('codeblock-by-2-tabs.in.md'), $this->getContentForMarkup('codeblock-by-2-tabs.in.md')),
			array('Code block with encoded ampersands', $this->getContentForMarkup('codeblock-with-encoded-ampersands.in.md'), $this->getContentForMarkup('codeblock-with-encoded-ampersands.in.md')),
			array('Code block with encoded angle brackets', $this->getContentForMarkup('codeblock-with-encoded-angle-brackets.in.md'), $this->getContentForMarkup('codeblock-with-encoded-angle-brackets.in.md')),
			*/
		);

		return array_merge($data, $this->unprocessedMarkdownExtraData());
	}

	protected function markdownExtraData()
	{
		return array(
			// array('Markdown inside HTML blocks', $this->getContentForMarkup('markdown-inside-html-blocks.in.md'), $this->getContentForMarkup('markdown-inside-html-blocks.out.md')),

			// Special Attributes
			array('Header: ID', '## Header 2 {#header2}', '<p>## Header 2 &#123;#header2&#125;</p>'),
			array('Header: Class names', '## Header 2 {.main}', '<p>## Header 2 &#123;.main&#125;</p>'),
			array('Header: Custom attributes', '## Le Header 2 {lang=fr}', '<p>## Le Header 2 &#123;lang=fr&#125;</p>'),
			array('Header: Multiple attributes', '## Le Header 2 {.main .shine lang=fr #header2}', '<p>## Le Header 2 &#123;.main .shine lang=fr #header2&#125;</p>'),
			array('Link: ID', '[link](/url){#header2}', '<p>[link](/url)&#123;#header2&#125;</p>'),
			array('Link: Class names', '[link](/url){.main}', '<p>[link](/url)&#123;.main&#125;</p>'),
			array('Link: Custom attributes', '[link](/url){lang=fr}', '<p>[link](/url)&#123;lang=fr&#125;</p>'),
			array('Link: Multiple attributes', '[link](/url){.main .shine lang=fr #header2}', '<p>[link](/url)&#123;.main .shine lang=fr #header2&#125;</p>'),
			array('Reference Link: ID', "[link][linkref]\n\n[linkref]: /url {#header2}", "<p>[link][linkref]</p>\n\n<p>[linkref]: /url &#123;#header2&#125;</p>"),
			array('Reference Link: Class names', "[link][linkref]\n\n[linkref]: /url {.main}", "<p>[link][linkref]</p>\n\n<p>[linkref]: /url &#123;.main&#125;</p>"),
			array('Reference Link: Custom attributes', "[link][linkref]\n\n[linkref]: /url {lang=fr}", "<p>[link][linkref]</p>\n\n<p>[linkref]: /url &#123;lang=fr&#125;</p>"),
			array('Reference Link: Multiple attributes', "[link][linkref]\n\n[linkref]: /url {.main .shine lang=fr #header2}", "<p>[link][linkref]</p>\n\n<p>[linkref]: /url &#123;.main .shine lang=fr #header2&#125;</p>"),
			array('Image: ID', '![link](/url){#header2}', '<p>![link](/url)&#123;#header2&#125;</p>'),
			array('Image: Class names', '![link](/url){.main}', '<p>![link](/url)&#123;.main&#125;</p>'),
			array('Image: Custom attributes', '![link](/url){lang=fr}', '<p>![link](/url)&#123;lang=fr&#125;</p>'),
			array('Image: Multiple attributes', '![link](/url){.main .shine lang=fr #header2}', '<p>![link](/url)&#123;.main .shine lang=fr #header2&#125;</p>'),
			array('Fenced code block: ID', "~~~ {#header2}\ncode block\n~~~\n", "<p>~~~ &#123;#header2&#125;<br />\ncode block<br />\n~~~</p>\n\n"),
			array('Fenced code block: Class names', "~~~ {.main}\ncode block\n~~~\n", "<p>~~~ &#123;.main&#125;<br />\ncode block<br />\n~~~</p>\n\n"),
			array('Fenced code block: Custom attributes', "~~~ {lang=fr}\ncode block\n~~~\n", "<p>~~~ &#123;lang=fr&#125;<br />\ncode block<br />\n~~~</p>\n\n"),
			array('Fenced code block: Multiple attributes', "~~~ {.main .shine lang=fr #header2}\ncode block\n~~~\n", "<p>~~~ &#123;.main .shine lang=fr #header2&#125;<br />\ncode block<br />\n~~~</p>\n\n"),

			/*
			// Fenced Code Blocks
			array('Fenced code block by 3 tildes', $this->getContentForMarkup('codeblock-by-3-tildes.in.md'), $this->getContentForMarkup('codeblock-by-3-tildes.out.md')),
			array('Fenced code block by 4 tildes', $this->getContentForMarkup('codeblock-by-4-tildes.in.md'), $this->getContentForMarkup('codeblock-by-4-tildes.out.md')),
			array('Fenced code block by 3 backticks', $this->getContentForMarkup('codeblock-by-3-backticks.in.md'), $this->getContentForMarkup('codeblock-by-3-backticks.out.md')),
			array('Fenced code block by 4 backticks', $this->getContentForMarkup('codeblock-by-4-backticks.in.md'), $this->getContentForMarkup('codeblock-by-4-backticks.out.md')),
			array('Fenced code block beginning and ending with blank lines', $this->getContentForMarkup('codeblock-begin-end-blank-lines.in.md'), $this->getContentForMarkup('codeblock-begin-end-blank-lines.out.md')),
			array('Fenced code block after a list', $this->getContentForMarkup('codeblock-after-list.in.md'), $this->getContentForMarkup('codeblock-after-list.out.md')),

			// Tables
			array('Table', $this->getContentForMarkup('table.in.md'), $this->getContentForMarkup('table.out.md')),
			array('Table with leading and tailing pipes', $this->getContentForMarkup('table-with-pipes.in.md'), $this->getContentForMarkup('table-with-pipes.out.md')),
			array('Table with alignment', $this->getContentForMarkup('table-with-alignment.in.md'), $this->getContentForMarkup('table-with-alignment.out.md')),
			array('Table with span-level formatting', $this->getContentForMarkup('table-with-formatting.in.md'), $this->getContentForMarkup('table-with-formatting.out.md')),

			// Definition Lists
			array('Definition list', $this->getContentForMarkup('definition-list.in.md'), $this->getContentForMarkup('definition-list.out.md')),
			array('Definition list wrapped', $this->getContentForMarkup('definition-list-wrapped.in.md'), $this->getContentForMarkup('definition-list-wrapped.out.md')),
			array('Definition list indented', $this->getContentForMarkup('definition-list-indented.in.md'), $this->getContentForMarkup('definition-list-indented.out.md')),
			array('Definition list multiple definitions', $this->getContentForMarkup('definition-list-multiple.in.md'), $this->getContentForMarkup('definition-list-multiple.out.md')),
			array('Definition list with paragraph tags', $this->getContentForMarkup('definition-list-with-paragraph-tags.in.md'), $this->getContentForMarkup('definition-list-with-paragraph-tags.out.md')),
			array('Definition list with multiple paragraphs', $this->getContentForMarkup('definition-list-with-multiple-paragraphs.in.md'), $this->getContentForMarkup('definition-list-with-multiple-paragraphs.out.md')),

			// Footnotes
			array('Footnote first', $this->getContentForMarkup('footnote-first.in.md'), $this->getContentForMarkup('footnote-first.out.md')),
			array('Footnote intermingled', $this->getContentForMarkup('footnote-intermingled.in.md'), $this->getContentForMarkup('footnote-intermingled.out.md')),
			array('Footnote last', $this->getContentForMarkup('footnote-last.in.md'), $this->getContentForMarkup('footnote-last.out.md')),
			array('Footnote with multiple paragraphs', $this->getContentForMarkup('footnote-with-multiple-paragraphs.in.md'), $this->getContentForMarkup('footnote-with-multiple-paragraphs.out.md')),

			// Abbreviations
			array('Abbreviation definition first', "*[HTML]: Hyper Text Markup Language\n\nThe HTML specification", "<p>The <abbr title=\"Hyper Text Markup Language\">HTML</abbr> specification</p>\n"),
			array('Abbreviation definition middle', "The HTML specification\n\n*[HTML]: Hyper Text Markup Language\n\nis dry", "<p>The <abbr title=\"Hyper Text Markup Language\">HTML</abbr> specification</p>\n\n<p>is dry</p>\n"),
			array('Abbreviation definition last', "The HTML specification\n\n*[HTML]: Hyper Text Markup Language", "<p>The <abbr title=\"Hyper Text Markup Language\">HTML</abbr> specification</p>\n"),
			array('Multiword abbreviation', "*[Foo Bar]: Fubar\n\nI saw a Foo Bar once", "<p>I saw a <abbr title=\"Fubar\">Foo Bar</abbr> once</p>\n"),
			array('Empty abbreviateion', "Operation Tigra Genesis is going well.\n\n*[Tigra Genesis]:", "<p>Operation <abbr>Tigra Genesis</abbr> is going well.</p>\n"),
			*/

			array('Single underscores in the middle of a word', 'un_frigging_believable', "<p>un_frigging_believable</p>"),
			array('Double underscores in the middle of a word', 'un__frigging__believable', "<p>un__frigging__believable</p>"),
		);
	}

	protected function BBCodeDataSafe()
	{
		return array(
            array('[abbr] tag', '[abbr="Cascading Style Sheets"]CSS[/abbr]', '<p><abbr title="Cascading Style Sheets">CSS</abbr></p>'),
            array('[abbr] tag with property', '[abbr title="Cascading Style Sheets"]CSS[/abbr]', '<p><abbr title="Cascading Style Sheets">CSS</abbr></p>'),
            array('[b] tag', '[b]some bold text[/b]', '<p><b>some bold text</b></p>'),
            array('[blockquote] tag', '[blockquote]Some text. blah, blah, blah...[/blockquote]', "<blockquote><p>Some text. blah, blah, blah&#8230;</p>\n</blockquote>"),
            // array('[cite] tag', '[cite="some place"]some text[/cite]', ''),
            // array('[code] tag', '[code]Some pre-formatted text...[/code]', '<p><code>Some pre-formatted text...</code></p>'),
            array('[color] tag', '[color=green]Some green text[/color]', '<p><span style="color:green;">Some green text</span></p>'),
            array('[del] tag', 'This is [del]very[/del] exciting.', '<p>This is <del>very</del> exciting.</p>'),
            array('[em] tag', '[em]some em text[/em]', '<p><em>some em text</em></p>'),
            // array('[email] tag', '[email]you@example.com[/email]', "<span data-eeEncEmail_qqaBvHJmAg='1'>.encoded_email</span><script type=\"text/javascript\">/*<![CDATA[*/var out = '',el = document.getElementsByTagName('span'),l = ['>','a','/','<',' 109',' 111',' 99',' 46',' 101',' 108',' 112',' 109',' 97',' 120',' 101',' 64',' 117',' 111',' 121','>','\"',' 109',' 111',' 99',' 46',' 101',' 108',' 112',' 109',' 97',' 120',' 101',' 64',' 117',' 111',' 121',':','o','t','l','i','a','m','\\\"','=','f','e','r','h','a ','<'],i = l.length,j = el.length;while (--i >= 0)out += unescape(l[i].replace(/^\s\s*/, '&#'));while (--j >= 0)if (el[j].getAttribute('data-eeEncEmail_qqaBvHJmAg'))el[j].innerHTML = out;/*]]>*/</script>"),
            // array('[email] tag with value', '[email=you@example.com]click here to email[/email]', ''),
            array('[h2] tag', '[h2]some text[/h2]', '<h2>some text</h2>'),
            array('[h3] tag', '[h3]some text[/h3]', '<h3>some text</h3>'),
            array('[h4] tag', '[h4]some text[/h4]', '<h4>some text</h4>'),
            array('[h5] tag', '[h5]some text[/h5]', '<h5>some text</h5>'),
            array('[h6] tag', '[h6]some text[/h6]', '<h6>some text</h6>'),
            array('[i] tag', '[i]some italic text[/i]', '<p><i>some italic text</i></p>'),
            // array('[img] tag', '[img]http://example.com/pic.jpg[/img]', ''),
            array('[ins] tag', '[ins]some text[/ins]', '<p><ins>some text</ins></p>'),
            array('[mark] tag', '[mark]some text[/mark]', '<p><mark>some text</mark></p>'),
            array('[pre] tag', '[pre]Some pre-formatted text...[/pre]', '<pre>Some pre-formatted text&#8230;</pre>'),
            array('[quote] tag', '[quote]Some text. blah, blah, blah...[/quote]', "<blockquote><p>Some text. blah, blah, blah&#8230;</p>\n</blockquote>"),
            array('[size=1] tag', '[size=1]some text[/size]', '<p><span style="font-size:9px;">some text</span></p>'),
            array('[size=2] tag', '[size=2]some text[/size]', '<p><span style="font-size:11px;">some text</span></p>'),
            array('[size=3] tag', '[size=3]some text[/size]', '<p><span style="font-size:14px;">some text</span></p>'),
            array('[size=4] tag', '[size=4]some text[/size]', '<p><span style="font-size:16px;">some text</span></p>'),
            array('[size=5] tag', '[size=5]some text[/size]', '<p><span style="font-size:18px;">some text</span></p>'),
            array('[size=6] tag', '[size=6]some text[/size]', '<p><span style="font-size:20px;">some text</span></p>'),
            array('[span] tag', '[span]some text[/span]', '<p><span>some text</span></p>'),
            array('[strike] tag', '[strike]some text[/strike]', '<p><del>some text</del></p>'),
            array('[strong] tag', '[strong]some strong text[/strong]', '<p><strong>some strong text</strong></p>'),
            array('[style] tag', '[style=class_name]your content[/style]', '<p><span class="class_name">your content</span></p>'),
            array('[sub] tag', '[sub]some text[/sub]', '<p><sub>some text</sub></p>'),
            array('[sup] tag', '[sup]some text[/sup]', '<p><sup>some text</sup></p>'),
            array('[u] tag', '[u]some underlined text[/u]', '<p><em>some underlined text</em></p>'),
            array('[url] tag', '[url]http://example.com/[/url]', '<p><a href="http://example.com/">http://example.com/</a></p>'),
            array('[url] tag with value', '[url=http://example.com/]my site[/url]', '<p><a href="http://example.com/">my site</a></p>'),
            array('[url] tag with value and property', '[url=http://example.com/ class="link"]my site[/url]', '<p><a href="http://example.com/" class="link">my site</a></p>'),
		);
	}

}

class ConfigStub {
	public function item($str = '')
	{
		return 'n';
	}
}

class LoadStub {
	public function model($str = '')
	{
		return;
	}

	public function helper($str = '')
	{
		return;
	}
}

class AddonsModelStub {
	public function get_plugin_formatting()
	{
		return array();
	}
}

class ExtensionsStub {
	public function active_hook($str)
	{
		return FALSE;
	}
}

function ee($str = '')
{
	if ($str)
	{
		require_once SYSPATH.'ee/EllisLab/ExpressionEngine/Library/Security/XSS.php';
		return new EllisLab\ExpressionEngine\Library\Security\XSS();
	}

	$obj = new StdClass();
	$obj->config = new ConfigStub();
	$obj->load = new LoadStub();
	$obj->addons_model = new AddonsModelStub();
	$obj->functions = new EE_Functions();
	$obj->extensions = new ExtensionsStub();

	return $obj;
}

// EOF
