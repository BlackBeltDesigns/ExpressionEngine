// =====================
// do not edit || remove
// =====================
	// color glossary
	@import 'parts/_color';
	// special effects
	@import 'parts/_fx';
		// breathing
		@import 'parts/_animate';
	// element normalization
	@import 'parts/_reset';
	// typography
	@import 'parts/_typo';
	// common classes
	@import 'parts/_library';
		// modals
		@import 'parts/_modal';
		// forms
		@import 'parts/_form';
		// tables
		@import 'parts/_table';
	// common grid
	@import 'parts/_grid';
// =====================
// do not edit || remove
// =====================

/*
	Tableau of Contents
	===================
	element overrides
		header
		main-nav
		footer
		v-card
		breadcrumb
		item
		entries
		comments
		albums
		paginate
		no-results
		sidebar
		search
		member-bar
		format-tools
		table-sorting
		member-meta
		slide controls
	===================
	responsibility
	===================
	web-kit anomalies
	iOS web-kit anomalies
*/

// element overrides
// add HTML elements you want to override here
// prevents needing to edit _reset
body{ color: @black; }

a{
	border-bottom: 1px solid lighten(@medium-gray,15%);
	color: @primary;
	text-decoration: none;
		&:hover{ border-color: @secondary; color: @secondary; }
		&[rel='external']{
			&:after{
				bottom: -1px;
				color: darken(@light-gray,15%);
				// glyph 'new_window_alt'
				content: '\E390';
				font-family: @fam-ico;
				font-size: @font-base - 3;
				font-style: normal;
				font-weight: normal;
				margin-left: 3px;
				position: relative;
			}
			&:hover{ &:after{ color: @secondary; } }
		}
}

blockquote{
	border-left: 5px solid @medium-gray;
	margin-left: 32px;
	padding: 0 0 0 20px;
		cite{ color: @gray; }
}

figure{
	figcaption{
		font-family: @fam-serif;
		font-style: italic;
		padding: 5px 5px 0;
	}
}

h1, h2, h3, h4, h5, h6{
	color: @primary;
	font-weight: normal;
	margin-bottom: @v-gutter;
	position: relative;
}

	h4, h5, h6{ font-weight: bold; }

mark{ background-color: lighten(@yellow,30%); color: darken(@yellow,35%); }

p code{
	background-color: @off-white;
	border: 1px solid @light-gray;
	padding: 1px 3px;
	white-space: nowrap;
		&:hover{ background-color: lighten(@yellow,35%); border-color: lighten(@yellow,5%); }
}

del{ color: @gray; }

ins{ background-color: lighten(@green,40%); color: darken(@green,20%); }

// header
header{
	&.full{ background-color: @primary; }
	h1{ color: @white; font-size: @font-base + 12; }
	a{
		border-bottom: 0;
		color: @white;
			&:hover{ border-bottom: 1px solid fade(@white,15%); color: fade(@white,80%); }
	}
}

.menu-link{
	background-color: lighten(@medium-gray,20%);
	border: 0;
	color: @black;
	display: block;
	font-weight: normal;
	letter-spacing: 1px;
	padding: 5px 10px 3px;
	text-decoration: none;
	.corners;
	.shadow(0 2px 0 0 rgba(0,0,0,0.09));
		&.act,
		&:hover{
			background-color: @primary;
			color: @white;
			.shadow(0 2px 0 0 darken(@primary,15%));
		}
}

// small-menu
.small-menu{
	background-color: @menu-bg;
	border: 0;
	color: @white;
	display: block;
	font-weight: normal;
	letter-spacing: 1px;
	padding: 5px 10px 3px;
	position: absolute;
	right: 20px;
	text-decoration: none;
	top: 22px;
	.corners(3px);
		&.act,
		&:hover{
			background-color: @menu-hover;
			color: @primary;
		}
		&:after{
			// glyph 'show_lines'
			content: '\E159';
			font-family: @fam-ico;
			.font-wk;
		}
}

// main-nav
.main-nav:extend(.menu){
	display: none;
		&.menu-open{
			background-color: @menu-bg;
			display: block;
			.corners(3px);
				li{
					border-bottom: 1px solid fade(@white,5%);
						&:last-child{ border-bottom: 0; padding-bottom: 0; }
						&:first-child a{
							&.act,
							&:hover{ .corners(3px 3px 0 0); }
						}
						&:last-child a{
							&.act,
							&:hover{ .corners(0 0 3px 3px); }
						}
				}
				a{
					border: 0;
					color: @white;
					display: block;
					font-weight: normal;
					letter-spacing: 1px;
					padding: 5px 10px;
						&:first-letter{ font-weight: bold; }
						&.act,
						&:hover{
							background-color: @menu-hover;
							color: @primary;
						}
				}
		}
}

// footer
footer{
	border-top: 2px solid darken(@light-gray,5%);
	padding-top: 10px;
}

// v-card
.v-card{
	.address,
	.alternate{ display: block; }
	.alternate{ margin-top: 10px; }
}

// breadcrumb
.breadcrumb{
	margin-top: 10px;
		ul:extend(.menu){
			border-bottom: 1px solid @light-gray;
			padding-bottom: 10px;
				li:last-child{ color: @gray; font-weight: bold; }
		}
}

// item
.item{
	border-bottom: 1px solid @medium-gray;
	margin-bottom: 20px;
	padding-bottom: 20px;
}

// entries
.entries{
	.entry:extend(.item){
		border-bottom-color: @light-gray;
			h2 + p{ color: @gray; margin-top: -10px; }
	}
}

	.home .entries h2{ font-size: @font-base + 4; }

// comments
.comments{
	border-top: 3px double lighten(@medium-gray,15%);
	margin-top: 40px;
	padding-top: 40px;
		.comment:extend(.item){
			border-bottom-color: lighten(@medium-gray,15%);
				h3 + p{ color: @gray; margin-top: -20px; }
				.author{
					&:after{
						color: @orange;
						// glyph 'user-conversation'
						content: '\E527';
						font-family: @fam-ico;
						font-size: @font-base - 1;
						margin-left: 5px;
					}
				}
				.ignored{
					color: @red;
					text-decoration: line-through;
				}
		}
}

// paginate
.paginate{
	ul:extend(.menu){ &:after{ .clear; } }
	li{ margin-right: 5px; .left; }
	a{
		background-color: @light-gray;
		border: 0;
		display: block;
		padding: 3px 10px;
		text-decoration: none;
			&.act{ background-color: @primary; color: @white; }
	}
	&.single{
		margin-bottom: 20px;
			a{
				padding: 5px 10px;
					.left;
					&.page-next{ .right; }
			}
			&:after{ .clear; }
	}
}

// no-results
.no-results{ margin: 20px 0; }

// sidebar
.sidebar{
	background-color: @off-white;
	border: 1px solid @light-gray;
		h2{
			background-color: @light-gray;
			font-size: @font-base + 2;
			margin-bottom: 0;
			padding: 10px;
		}
		ul{ margin: 10px 0 10px 20px; }
}

// search form
.search{
	padding: 10px;
	input[type='text']{ font-size: @font-base + 2; }
	.ctrls{
		border-bottom: 0;
		margin-top: 10px;
		padding: 0;
		text-align: center;
	}
}

.search-wrap{
	border-bottom: 1px solid @light-gray;
	margin-bottom: 10px;
	padding-bottom: 10px;
		input[type='text']{ margin-bottom: 5px; }
		&:last-child{
			border: 0;
			margin: 0;
			padding: 0;
		}
}

// member-bar
.member-bar{
	padding: 10px 0;
		.member-nav{ .right; }
}

// format-tools
// BAD. needs replacing
.format-tools{
	margin-bottom: 20px;
		table{
			background-color: transparent;
			border-color: @medium-gray;
			margin: 0;
				td{ border: 0; padding: 0; text-align: center; }
				a{
					background-color: @light-gray;
					border: 0;
					display: block;
					padding: 5px 10px;
					text-decoration: none;
						&:hover{
							background-color: @primary;
							color: @white;
						}
				}
		}
		.format-btns{ margin-bottom: 10px; }
}

// table-sorting
.table-sorting{
	background-color: @off-white;
	border: solid @medium-gray;
	border-width: 1px 1px 0;
	font-size: @font-base - 2;
	margin: 20px 0 0;
	padding: 10px;
		+ table{ margin-top: 0; }
		select{ margin-right: 10px; }
		label{ margin-bottom: 10px; }
}

// member-meta
.member-meta{
	border-bottom: 1px solid @light-gray;
	margin: -15px 0 20px;
	padding: 0 0 10px;
}

// slide controls
.cycle-slideshow{
	.slide-ctrls a{ z-index: 1; }
	&:hover{ .slide-ctrls a{ z-index: 101; } }
}

.slide-ctrls{
	a{
		background-color: @white;
		border: 0;
		margin-top: -20px;
		padding: 10px;
		position: absolute;
		top: 50%;
			&:hover{ background-color: @off-white; }
			&:before{
				font-family: @fam-ico;
			}
	}
	.prev-slide{
		left: 0;
			&:before{
				// glyph 'chevron-left'
				content: '\E225';
			}
	}
	.next-slide{
		right: 0;
			&:before{
				// glyph 'chevron-right'
				content: '\E224';
			}
	}
}

// responsibility
// rules to make changes for display over @min-width
@media screen and (min-width: @min-width){
	// ==========
	// from _grid
	// ==========
		// remove bottom margin from cols, and float them
		.row{
			> section{
				margin-bottom: 0;
				padding: 0 @h-gutter;
				.left;
			}
			// knock the h-gutter off .row(s) inside of .row(s)
			.row{ margin: 0 -@h-gutter; }
			// align right row
			&.align-right{ > section{ .right; } }
			// form rows
			form .row{
				> section{
					&:first-child{ padding-right: @h-gutter; }
					&:last-child{ padding-left: @h-gutter; }
				}
			}
			// clear those columns
			&:after{ .clear; }
		}

		fieldset section:first-child{ margin-bottom: 0; }

		// column widths
		// ==============
		// each represents the number of columns
		// within a 16 column grid, the current column
		// should cover. All cols within a group need to add up to 16.
		// e.g. .cw-1 + .cw-15 = 16, .cw-8 + .cw-8 = 16
		.w-1{ .col-width(1); }
		.w-2{ .col-width(2); }
		.w-3{ .col-width(3); }
		.w-4{ .col-width(4); }
		.w-5{ .col-width(5); }
		.w-6{ .col-width(6); }
		.w-7{ .col-width(7); }
		.w-8{ .col-width(8); }
		.w-9{ .col-width(9); }
		.w-10{ .col-width(10); }
		.w-11{ .col-width(11); }
		.w-12{ .col-width(12); }
		.w-13{ .col-width(13); }
		.w-14{ .col-width(14); }
		.w-15{ .col-width(15); }
		.w-16{ .col-width(16); }

		// oddball widths
		.w-3rds{ width: 33.33%; }

		figure{
			&.left{ margin: 5px 15px 0 0; }
			&.right{ margin: 5px 0 0 15px; }
		}

	// ==========
	// from _library
	// ==========
		// code-block
		.code-block{
			&:before{
				color: @light-gray;
				content: '\E119';
				display: block;
				font-family: @fam-ico;
				font-size: @font-base + 10;
				position: absolute;
				right: 20px;
				top: 10px;
			}
			&:hover{
				&:before{ color: @primary; }
			}
			&.dark{
				&:before{ color: lighten(@black,10%); }
				&:hover{
					&:before{ color: @primary; }
				}
			}
		}

	// header
	header{ h1{ margin-bottom: 0; a{ border: 0; text-decoration: none; } } }

	// small menu
	.small-menu{ display: none; }

	// main-nav
	.main-nav:extend(.menu){
		li{ margin-left: 10px; .left; }
		// specific changes to the main-nav inside the header
		header &{
			a{
				background-color: @menu-bg;
				border: 0;
				color: @white;
				display: block;
				font-weight: normal;
				letter-spacing: 1px;
				padding: 5px 10px;
				text-decoration: none;
				.corners(3px);
					&:first-letter{ font-weight: bold; }
					&.act,
					&:hover{
						background-color: @menu-hover;
						color: @primary;
					}
			}
		}
		// specific changes to the main-nav inside the footer
		footer &{ a.act{ color: @secondary; } }
	}

	// footer
	header .row section:last-child,
	footer section:last-child{ .main-nav{ .right; } }

	// breadcrumb
	.breadcrumb{
		li{
			margin-right: 10px;
			.left;
				&:after{
					color: @medium-gray;
					content: '/';
					padding-left: 10px;
				}
				&:last-child:after{ content: ''; padding-left: 0; }
		}
		ul:after{ .clear; }
	}

	// entries
	.entries{
		.entry{
			&:last-child{ border-bottom: 0; margin-bottom: 0; padding-bottom: 0; }
		}
	}

	// paginate
	.paginate{ li{ margin-right: 10px; } }

	// search form
	.search{ input[type='text']{ font-size: @font-base; } }

	// password required form
	.password-req{ .w-8{ .left; } }

	// table-sorting
	.table-sorting{
		label{ display: inline-block; margin-bottom: 0; }
	}
}

// web-kit anomalies
// things that need minor tweaks in web-kit go in here
// should be little to nothing in there.
@media screen and (-webkit-min-device-pixel-ratio: 0){}

// iOS web-kit anomalies
@media only screen and (-webkit-min-device-pixel-ratio: 1.5),
only screen and (-moz-min-device-pixel-ratio: 1.5),
only screen and (min-device-pixel-ratio: 1.5){}